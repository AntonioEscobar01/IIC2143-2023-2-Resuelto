  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-10-28 05:39:00.292293', '2023-10-28 05:39:00.292293', NULL, 1, 2), (880660507, 882865120, '2023-10-28 05:39:00.292293', '2023-10-28 05:39:00.292293', 'Pendiente', 2, 3);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-10-28 05:39:00.301040', '2023-10-28 05:39:00.301040'), (298486374, 975572189, 298486374, 'MyText', '2023-10-28 05:39:00.301040', '2023-10-28 05:39:00.301040');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-10-28 05:39:00.304560', '2023-10-28 05:39:00.304560'), (298486374, 975572189, 298486374, '2023-10-28 05:39:00.304560', '2023-10-28 05:39:00.304560');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-10-28 05:39:00.306340', '2023-10-28 05:39:00.306340'), (298486374, 'MyString', '2023-10-28 05:39:00.306340', '2023-10-28 05:39:00.306340');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-10-28 05:39:00.308014', '2023-10-28 05:39:00.308014', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (721151615, NULL, 'accesorio', DEFAULT, '2023-10-28 05:39:00.308014', '2023-10-28 05:39:00.308014', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba'), (503109352, 'Nombre3', NULL, DEFAULT, '2023-10-28 05:39:00.308014', '2023-10-28 05:39:00.308014', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba'), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-10-28 05:39:00.308014', '2023-10-28 05:39:00.308014', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-10-28 05:39:00.308014', '2023-10-28 05:39:00.308014', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba');
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 590306657, '2023-10-28 05:39:00.309942', '2023-10-28 05:39:00.309942', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-10-28 05:39:00.309942', '2023-10-28 05:39:00.309942', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-10-28 05:39:00.311793', '2023-10-28 05:39:00.311793'), (298486374, 'MyString', FALSE, '2023-10-28 05:39:00.311793', '2023-10-28 05:39:00.311793');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 05:39:00.312592', '2023-10-28 05:39:00.312592', 'usuario1', DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 05:39:00.312592', '2023-10-28 05:39:00.312592', 'usuario2', DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 05:39:00.312592', '2023-10-28 05:39:00.312592', 'usuario3', DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 05:39:00.312592', '2023-10-28 05:39:00.312592', 'usuario4', DEFAULT)[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_crear_un_nuevo_reporte_y_redirigirse_a_la_pagina_de_productos
-----------------------------------------------------------------------------------------------
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"descripcion"=>"Reporte de prueba", "producto_id"=>"871544775", "user_id"=>"590306657"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 436)
  Rendered reportes/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1379)
  Rendered layout layouts/application.html.erb (Duration: 336.9ms | Allocations: 107701)
Completed 422 Unprocessable Entity in 354ms (Views: 346.5ms | ActiveRecord: 1.2ms | Allocations: 117030)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.4ms | Allocations: 231)
  [1m[36mReporte Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1451)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 3362)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.6ms | Allocations: 3950)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.6ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
PaginaPrincipalControllerTest: test_should_get_index
----------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.4ms | Allocations: 264)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 559)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2582)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms | Allocations: 3318)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms/index" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by RoomsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 1527)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.1ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 3.8ms | Allocations: 8815)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started GET "/usuarios/323332591/editar?user[name]=usuario4&user[email]=alexis.vega%40uc.cl&user[password]" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by UsersController#page_update as HTML
  Parameters: {"user"=>{"name"=>"usuario4", "email"=>"alexis.vega@uc.cl", "password"=>"[FILTERED]"}, "id"=>"323332591"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/page_update.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.3ms | Allocations: 261)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/page_update.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2707)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 4724)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.6ms | Allocations: 5569)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_update_pin
------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1306)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PinsControllerTest: test_should_show_pin
----------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by PinsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  Rendered pins/_pin.html.erb (Duration: 4.4ms | Allocations: 2603)
  Rendered pins/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3356)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 3399)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms | Allocations: 4214)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PinsControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by PinsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/index.html.erb within layouts/application
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins"[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  Rendered pins/_pin.html.erb (Duration: 1.6ms | Allocations: 1325)
  Rendered pins/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1864)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 1904)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 2233)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PinsControllerTest: test_should_get_edit
----------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 2.2ms | Allocations: 1893)
  Rendered pins/edit.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2248)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 4396)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms | Allocations: 4815)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_create_pin
------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.2ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-10-28 05:39:00.938395"], ["updated_at", "2023-10-28 05:39:00.938395"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 962)
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
PinsControllerTest: test_should_get_new
---------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 0.8ms | Allocations: 747)
  Rendered pins/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 970)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2940)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 3264)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PinsControllerTest: test_should_destroy_pin
-------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 5ms (ActiveRecord: 1.4ms | Allocations: 1476)
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
HelloWorldControllerTest: test_should_get_index
-----------------------------------------------
Started GET "/hello_world/index" for 127.0.0.1 at 2023-10-28 02:39:00 -0300
Processing by HelloWorldController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering hello_world/index.html.erb within layouts/application
  Rendered hello_world/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 122)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 2315)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms | Allocations: 3048)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-10-28 07:47:49.841439', '2023-10-28 07:47:49.841439', NULL, 1, 2), (880660507, 882865120, '2023-10-28 07:47:49.841439', '2023-10-28 07:47:49.841439', 'Pendiente', 2, 3);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-10-28 07:47:49.850692', '2023-10-28 07:47:49.850692'), (298486374, 975572189, 298486374, 'MyText', '2023-10-28 07:47:49.850692', '2023-10-28 07:47:49.850692');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-10-28 07:47:49.854562', '2023-10-28 07:47:49.854562'), (298486374, 975572189, 298486374, '2023-10-28 07:47:49.854562', '2023-10-28 07:47:49.854562');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-10-28 07:47:49.856454', '2023-10-28 07:47:49.856454'), (298486374, 'MyString', '2023-10-28 07:47:49.856454', '2023-10-28 07:47:49.856454');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-10-28 07:47:49.858307', '2023-10-28 07:47:49.858307', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (721151615, NULL, 'accesorio', DEFAULT, '2023-10-28 07:47:49.858307', '2023-10-28 07:47:49.858307', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba'), (503109352, 'Nombre3', NULL, DEFAULT, '2023-10-28 07:47:49.858307', '2023-10-28 07:47:49.858307', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba'), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-10-28 07:47:49.858307', '2023-10-28 07:47:49.858307', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-10-28 07:47:49.858307', '2023-10-28 07:47:49.858307', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba');
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 590306657, '2023-10-28 07:47:49.859658', '2023-10-28 07:47:49.859658', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-10-28 07:47:49.859658', '2023-10-28 07:47:49.859658', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-10-28 07:47:49.861580', '2023-10-28 07:47:49.861580'), (298486374, 'MyString', FALSE, '2023-10-28 07:47:49.861580', '2023-10-28 07:47:49.861580');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 07:47:49.862548', '2023-10-28 07:47:49.862548', 'usuario1', DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 07:47:49.862548', '2023-10-28 07:47:49.862548', 'usuario2', DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 07:47:49.862548', '2023-10-28 07:47:49.862548', 'usuario3', DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 07:47:49.862548', '2023-10-28 07:47:49.862548', 'usuario4', DEFAULT)[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.7ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-10-28 04:47:49 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 2.0ms | Allocations: 795)
  [1m[36mReporte Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2619)
  Rendered layout layouts/application.html.erb (Duration: 114.8ms | Allocations: 44967)
Completed 200 OK in 123ms (Views: 116.7ms | ActiveRecord: 0.6ms | Allocations: 50938)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_crear_un_nuevo_reporte_y_redirigirse_a_la_pagina_de_productos
-----------------------------------------------------------------------------------------------
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"descripcion"=>"Reporte de prueba", "producto_id"=>"871544775", "user_id"=>"590306657"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.1ms | Allocations: 75)
  Rendered reportes/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 592)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 2504)
Completed 422 Unprocessable Entity in 5ms (Views: 2.5ms | ActiveRecord: 0.6ms | Allocations: 4096)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PinsControllerTest: test_should_show_pin
----------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by PinsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  Rendered pins/_pin.html.erb (Duration: 8.5ms | Allocations: 5320)
  Rendered pins/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 6084)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 6127)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.1ms | Allocations: 7308)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_update_pin
------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1024)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_create_pin
------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.2ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-10-28 07:47:50.169128"], ["updated_at", "2023-10-28 07:47:50.169128"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 891)
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PinsControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by PinsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/index.html.erb within layouts/application
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins"[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  Rendered pins/_pin.html.erb (Duration: 1.5ms | Allocations: 1317)
  Rendered pins/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1806)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 1846)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms | Allocations: 2167)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PinsControllerTest: test_should_get_edit
----------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 4.0ms | Allocations: 2515)
  Rendered pins/edit.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2870)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 5019)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.1ms | Allocations: 5423)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PinsControllerTest: test_should_destroy_pin
-------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.3ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 3ms (ActiveRecord: 0.8ms | Allocations: 1598)
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
PinsControllerTest: test_should_get_new
---------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 0.7ms | Allocations: 748)
  Rendered pins/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 972)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2946)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 3271)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms/index" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by RoomsController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 1525)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.5ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
PaginaPrincipalControllerTest: test_should_get_index
----------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.4ms | Allocations: 264)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 549)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2578)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms | Allocations: 3317)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started GET "/usuarios/323332591/editar?user[name]=usuario4&user[email]=alexis.vega%40uc.cl&user[password]" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by UsersController#page_update as HTML
  Parameters: {"user"=>{"name"=>"usuario4", "email"=>"alexis.vega@uc.cl", "password"=>"[FILTERED]"}, "id"=>"323332591"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/page_update.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.4ms | Allocations: 264)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/page_update.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2252)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 4255)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.4ms | Allocations: 5367)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.1ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 2.0ms | Allocations: 5805)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
HelloWorldControllerTest: test_should_get_index
-----------------------------------------------
Started GET "/hello_world/index" for 127.0.0.1 at 2023-10-28 04:47:50 -0300
Processing by HelloWorldController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering hello_world/index.html.erb within layouts/application
  Rendered hello_world/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 122)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2315)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 3047)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-10-28 08:36:59.807084', '2023-10-28 08:36:59.807084', NULL, 1, 2), (880660507, 882865120, '2023-10-28 08:36:59.807084', '2023-10-28 08:36:59.807084', 'Pendiente', 2, 3), (58384526, 503109352, '2023-10-28 08:36:59.807084', '2023-10-28 08:36:59.807084', 'Pendiente', 3, 1), (488535345, 60310349, '2023-10-28 08:36:59.807084', '2023-10-28 08:36:59.807084', 'Pendiente', 1, 2);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-10-28 08:36:59.812851', '2023-10-28 08:36:59.812851'), (298486374, 608344442, 298486374, 'MyText', '2023-10-28 08:36:59.812851', '2023-10-28 08:36:59.812851');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-10-28 08:36:59.816688', '2023-10-28 08:36:59.816688'), (298486374, 975572189, 298486374, '2023-10-28 08:36:59.816688', '2023-10-28 08:36:59.816688');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-10-28 08:36:59.818636', '2023-10-28 08:36:59.818636'), (298486374, 'MyString', '2023-10-28 08:36:59.818636', '2023-10-28 08:36:59.818636');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-10-28 08:36:59.820342', '2023-10-28 08:36:59.820342', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (721151615, NULL, 'accesorio', DEFAULT, '2023-10-28 08:36:59.820342', '2023-10-28 08:36:59.820342', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba'), (503109352, 'Nombre3', NULL, DEFAULT, '2023-10-28 08:36:59.820342', '2023-10-28 08:36:59.820342', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba'), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-10-28 08:36:59.820342', '2023-10-28 08:36:59.820342', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-10-28 08:36:59.820342', '2023-10-28 08:36:59.820342', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (764813928, 'Nombre6', 'accesorio', DEFAULT, '2023-10-28 08:36:59.820342', '2023-10-28 08:36:59.820342', DEFAULT, DEFAULT, 608344442, 'Descripcion de prueba');
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 975572189, '2023-10-28 08:36:59.821722', '2023-10-28 08:36:59.821722', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-10-28 08:36:59.821722', '2023-10-28 08:36:59.821722', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word'), (507351460, 871544775, 975572189, '2023-10-28 08:36:59.821722', '2023-10-28 08:36:59.821722', DEFAULT, 'Reporte de prueba'), (5833737, 871544775, 975572189, '2023-10-28 08:36:59.821722', '2023-10-28 08:36:59.821722', DEFAULT, 'nada de nada'), (928920724, 882865120, 590306657, '2023-10-28 08:36:59.821722', '2023-10-28 08:36:59.821722', DEFAULT, 'Primer reporte del producto'), (777479468, 764813928, 590306657, '2023-10-28 08:36:59.821722', '2023-10-28 08:36:59.821722', DEFAULT, 'A');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-10-28 08:36:59.823694', '2023-10-28 08:36:59.823694'), (298486374, 'MyString', FALSE, '2023-10-28 08:36:59.823694', '2023-10-28 08:36:59.823694');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 08:36:59.824524', '2023-10-28 08:36:59.824524', 'usuario1', DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 08:36:59.824524', '2023-10-28 08:36:59.824524', 'usuario2', DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 08:36:59.824524', '2023-10-28 08:36:59.824524', 'usuario3', DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 08:36:59.824524', '2023-10-28 08:36:59.824524', 'usuario4', DEFAULT), (608344442, 'elvistek@uc.cl', 'elvis420', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 08:36:59.824524', '2023-10-28 08:36:59.824524', 'usuario5', DEFAULT)[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
PinsControllerTest: test_should_get_new
---------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-10-28 05:36:59 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 3.4ms | Allocations: 2659)
  Rendered pins/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3330)
  Rendered layout layouts/application.html.erb (Duration: 68.4ms | Allocations: 46836)
Completed 200 OK in 73ms (Views: 70.5ms | ActiveRecord: 0.0ms | Allocations: 50723)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_create_pin
------------------------------------------
  [1m[36mPin Load (0.4ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.3ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-10-28 08:37:00.019443"], ["updated_at", "2023-10-28 08:37:00.019443"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1596)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_update_pin
------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 770)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PinsControllerTest: test_should_destroy_pin
-------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 10ms (ActiveRecord: 1.6ms | Allocations: 5813)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PinsControllerTest: test_should_get_edit
----------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 0.8ms | Allocations: 882)
  Rendered pins/edit.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1177)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 3212)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms | Allocations: 3668)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
MessagesControllerTest: test_debe_crear_mensajes_en_la_sala_de_chat
-------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 AND "rooms"."id" != $2 LIMIT $3[0m  [["name", "MyString"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started POST "/rooms/980190962/messages" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by MessagesController#create as HTML
  Parameters: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "room_id"=>"980190962"}
[31mUnpermitted parameter: :room_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007fd12dd12580>, params: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "controller"=>"messages", "action"=>"create", "room_id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["body", "Hola Mundo"], ["created_at", "2023-10-28 08:37:00.066666"], ["updated_at", "2023-10-28 08:37:00.066666"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered messages/_message.html.erb (Duration: 0.6ms | Allocations: 256)
[ActionCable] Broadcasting to Z2lkOi8vcHJveWVjdG8tZ3J1cG8zNy9Sb29tLzk4MDE5MDk2Mg: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-590306657\">\n    <div class=\"message-box msg-590306657 \" >\n            <h6 class=\"name\"> usuario1 </h6>\n        Hola Mundo\n    </div>\n</div></template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 0.8ms | Allocations: 8130)
  [1m[36mMessage Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
PaginaPrincipalControllerTest: test_should_get_index
----------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 539)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 900)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2927)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms | Allocations: 3663)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
HelloWorldControllerTest: test_should_get_index
-----------------------------------------------
Started GET "/hello_world/index" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by HelloWorldController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering hello_world/index.html.erb within layouts/application
  Rendered hello_world/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 122)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 2315)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 3047)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_metodo_index_funciona_correctamente
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.1ms | Allocations: 701)
  [1m[36mProducto Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "productos"[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  Rendered productos/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1469)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 3450)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.5ms | Allocations: 5496)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.4ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_productos_se_actualizan_correctamente
---------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos/764813928/editar?producto[nombre]=NewName&producto[descripcion]=Nueva+descripci%C3%B3n%21&producto[categoria]=accesorio" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by ProductosController#page_update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering productos/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.1ms | Allocations: 404)
  Rendered productos/page_update.html.erb within layouts/application (Duration: 1.9ms | Allocations: 919)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 2733)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.6ms | Allocations: 3265)
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_puede_crear_un_producto_y_que_luego_se_rediriga_adecuadamente
------------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/productos" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by ProductosController#create as HTML
  Parameters: {"producto"=>{"nombre"=>"NewProducto", "descripcion"=>"[REDACTED]", "categoria"=>"accesorios"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Create (0.2ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["nombre", "NewProducto"], ["categoria", "accesorios"], ["disponible", true], ["created_at", "2023-10-28 08:37:00.140452"], ["updated_at", "2023-10-28 08:37:00.140452"], ["estado", nil], ["intercambiado", nil], ["user_id", 590306657], ["descripcion", "[REDACTED]"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/882865121
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 2511)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" ORDER BY "productos"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_cree_y_rediriga_correctamente
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/764813928/new?reporte[producto_id]=764813928&reporte[user_id]=1&reporte[descripcion]=Un+nuevo+reporte" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by ReportesController#new as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.0ms | Allocations: 617)
  Rendered reportes/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1036)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 2996)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms | Allocations: 3749)
Started POST "/reportes/764813928" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Create (0.2ms)[0m  [1m[32mINSERT INTO "reportes" ("producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 764813928], ["user_id", 590306657], ["created_at", "2023-10-28 08:37:00.166559"], ["updated_at", "2023-10-28 08:37:00.166559"], ["nuevo_atributo", nil], ["descripcion", "Un nuevo reporte"]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/764813928
Completed 302 Found in 4ms (ActiveRecord: 1.1ms | Allocations: 2074)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 404)
  [1m[36mReporte Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1251)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 3065)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.6ms | Allocations: 3514)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReportesControllerTest: test_eliminar_producto_si_tiene_3_o_más_reportes
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.4ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"5", "descripcion"=>"[REDACTED]"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 4ms (ActiveRecord: 1.3ms | Allocations: 1553)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_actualice_correctamente
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reporte/808710283/editar?reporte[producto_id]=871544775&reporte[user_id]=975572189&reporte[descripcion]=Reporte+de+prueba" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by ReportesController#page_update as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"975572189", "descripcion"=>"Reporte de prueba"}, "id"=>"808710283"}
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.9ms | Allocations: 404)
  Rendered reportes/page_update.html.erb within layouts/application (Duration: 1.5ms | Allocations: 783)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 2597)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.3ms | Allocations: 3093)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
IntercambiosControllerTest: test_debería_ejecutar_el_método_index
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
Started GET "/intercambios" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by IntercambiosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.1ms | Allocations: 614)
  [1m[36mIntercambio Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1373)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 3354)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.5ms | Allocations: 4165)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
IntercambiosControllerTest: test_método_create_debe_funcionar
-------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
Started GET "/intercambios/871544775/create" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by IntercambiosController#create as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mIntercambio Create (0.4ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-10-28 08:37:00.237488"], ["updated_at", "2023-10-28 08:37:00.237488"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mProducto Update (0.3ms)[0m  [1m[33mUPDATE "productos" SET "disponible" = $1, "updated_at" = $2 WHERE "productos"."id" = $3[0m  [["disponible", false], ["updated_at", "2023-10-28 08:37:00.238733"], ["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 6ms (ActiveRecord: 1.6ms | Allocations: 1884)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
IntercambiosControllerTest: test_método_destroy_debe_funcionar_acorde
---------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
Started GET "/intercambios/762610083/eliminar" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by IntercambiosController#destroy as HTML
  Parameters: {"id"=>"762610083"}
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Update (0.2ms)[0m  [1m[33mUPDATE "productos" SET "disponible" = $1, "updated_at" = $2 WHERE "productos"."id" = $3[0m  [["disponible", true], ["updated_at", "2023-10-28 08:37:00.246948"], ["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 1340)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Comprobar_que_metodo_show_funcione_correctamente
--------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started GET "/user/590306657" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mRoom Create (0.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "private_323332591_590306657"], ["is_private", true], ["created_at", "2023-10-28 08:37:00.256923"], ["updated_at", "2023-10-28 08:37:00.256923"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.3ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190963], ["created_at", "2023-10-28 08:37:00.260922"], ["updated_at", "2023-10-28 08:37:00.260922"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 323332591], ["room_id", 980190963], ["created_at", "2023-10-28 08:37:00.263028"], ["updated_at", "2023-10-28 08:37:00.263028"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.9ms | Allocations: 601)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 323332591]]
  Rendered collection of users/_user.html.erb [4 times] (Duration: 0.6ms | Allocations: 343)
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190963]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 22)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.6ms | Allocations: 1106)
  Rendered rooms/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3368)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 5320)
Completed 200 OK in 18ms (Views: 7.3ms | ActiveRecord: 2.9ms | Allocations: 11055)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.1ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.3ms | Allocations: 5334)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started PATCH "/usuarios/590306657" for 127.0.0.1 at 2023-10-28 05:37:00 -0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Nuevo Nombre"}, "id"=>"590306657"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "name" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-28 08:37:00.294443"], ["name", "Nuevo Nombre"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 797)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7618729947119324985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddProductsToUsers (20231028201311)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD "productos_fav" json[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231028201311"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SetDefaultToFavs (20231028210730)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "productos_fav" SET DEFAULT '{}'[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231028210730"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7618729947119324985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-10-28 09:15:14.715358', '2023-10-28 09:15:14.715358', NULL, 1, 2), (880660507, 882865120, '2023-10-28 09:15:14.715358', '2023-10-28 09:15:14.715358', 'Pendiente', 2, 3), (58384526, 503109352, '2023-10-28 09:15:14.715358', '2023-10-28 09:15:14.715358', 'Pendiente', 3, 1), (488535345, 60310349, '2023-10-28 09:15:14.715358', '2023-10-28 09:15:14.715358', 'Pendiente', 1, 2);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-10-28 09:15:14.719376', '2023-10-28 09:15:14.719376'), (298486374, 608344442, 298486374, 'MyText', '2023-10-28 09:15:14.719376', '2023-10-28 09:15:14.719376');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-10-28 09:15:14.722838', '2023-10-28 09:15:14.722838'), (298486374, 975572189, 298486374, '2023-10-28 09:15:14.722838', '2023-10-28 09:15:14.722838');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-10-28 09:15:14.724612', '2023-10-28 09:15:14.724612'), (298486374, 'MyString', '2023-10-28 09:15:14.724612', '2023-10-28 09:15:14.724612');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-10-28 09:15:14.725991', '2023-10-28 09:15:14.725991', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (721151615, NULL, 'accesorio', DEFAULT, '2023-10-28 09:15:14.725991', '2023-10-28 09:15:14.725991', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba'), (503109352, 'Nombre3', NULL, DEFAULT, '2023-10-28 09:15:14.725991', '2023-10-28 09:15:14.725991', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba'), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-10-28 09:15:14.725991', '2023-10-28 09:15:14.725991', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-10-28 09:15:14.725991', '2023-10-28 09:15:14.725991', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (764813928, 'Nombre6', 'accesorio', DEFAULT, '2023-10-28 09:15:14.725991', '2023-10-28 09:15:14.725991', DEFAULT, DEFAULT, 608344442, 'Descripcion de prueba');
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 975572189, '2023-10-28 09:15:14.727174', '2023-10-28 09:15:14.727174', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-10-28 09:15:14.727174', '2023-10-28 09:15:14.727174', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word'), (507351460, 871544775, 975572189, '2023-10-28 09:15:14.727174', '2023-10-28 09:15:14.727174', DEFAULT, 'Reporte de prueba'), (5833737, 871544775, 975572189, '2023-10-28 09:15:14.727174', '2023-10-28 09:15:14.727174', DEFAULT, 'nada de nada'), (928920724, 882865120, 590306657, '2023-10-28 09:15:14.727174', '2023-10-28 09:15:14.727174', DEFAULT, 'Primer reporte del producto'), (777479468, 764813928, 590306657, '2023-10-28 09:15:14.727174', '2023-10-28 09:15:14.727174', DEFAULT, 'A');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-10-28 09:15:14.728871', '2023-10-28 09:15:14.728871'), (298486374, 'MyString', FALSE, '2023-10-28 09:15:14.728871', '2023-10-28 09:15:14.728871');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin", "productos_fav") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 09:15:14.729610', '2023-10-28 09:15:14.729610', 'usuario1', DEFAULT, DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 09:15:14.729610', '2023-10-28 09:15:14.729610', 'usuario2', DEFAULT, DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 09:15:14.729610', '2023-10-28 09:15:14.729610', 'usuario3', DEFAULT, DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 09:15:14.729610', '2023-10-28 09:15:14.729610', 'usuario4', DEFAULT, DEFAULT), (608344442, 'elvistek@uc.cl', 'elvis420', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 09:15:14.729610', '2023-10-28 09:15:14.729610', 'usuario5', DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Comprobar_que_metodo_show_funcione_correctamente
--------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started GET "/user/590306657" for 127.0.0.1 at 2023-10-28 06:15:14 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mRoom Create (0.3ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "private_323332591_590306657"], ["is_private", true], ["created_at", "2023-10-28 09:15:14.839250"], ["updated_at", "2023-10-28 09:15:14.839250"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.5ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190963], ["created_at", "2023-10-28 09:15:14.852471"], ["updated_at", "2023-10-28 09:15:14.852471"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.3ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 323332591], ["room_id", 980190963], ["created_at", "2023-10-28 09:15:14.855420"], ["updated_at", "2023-10-28 09:15:14.855420"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 5.6ms | Allocations: 3717)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 323332591]]
  Rendered collection of users/_user.html.erb [4 times] (Duration: 0.5ms | Allocations: 406)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190963]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 22)
  Rendered layouts/_new_message_form.html.erb (Duration: 2.3ms | Allocations: 1580)
  Rendered rooms/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 8223)
  Rendered layout layouts/application.html.erb (Duration: 76.3ms | Allocations: 61795)
Completed 200 OK in 109ms (Views: 79.7ms | ActiveRecord: 4.5ms | Allocations: 80801)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started PATCH "/usuarios/590306657" for 127.0.0.1 at 2023-10-28 06:15:14 -0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Nuevo Nombre"}, "id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "name" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-28 09:15:14.953024"], ["name", "Nuevo Nombre"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 1221)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-10-28 06:15:14 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.1ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.4ms | Allocations: 5888)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
HelloWorldControllerTest: test_should_get_index
-----------------------------------------------
Started GET "/hello_world/index" for 127.0.0.1 at 2023-10-28 06:15:14 -0300
Processing by HelloWorldController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering hello_world/index.html.erb within layouts/application
  Rendered hello_world/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 127)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 2399)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms | Allocations: 3140)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-10-28 06:15:14 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.9ms | Allocations: 615)
  [1m[36mReporte Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1812)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 3763)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.6ms | Allocations: 5014)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_actualice_correctamente
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reporte/808710283/editar?reporte[producto_id]=871544775&reporte[user_id]=975572189&reporte[descripcion]=Reporte+de+prueba" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by ReportesController#page_update as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"975572189", "descripcion"=>"Reporte de prueba"}, "id"=>"808710283"}
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 404)
  Rendered reportes/page_update.html.erb within layouts/application (Duration: 1.4ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2633)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 3161)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_cree_y_rediriga_correctamente
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/764813928/new?reporte[producto_id]=764813928&reporte[user_id]=1&reporte[descripcion]=Un+nuevo+reporte" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by ReportesController#new as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 406)
  Rendered reportes/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 735)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 2557)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms | Allocations: 2844)
Started POST "/reportes/764813928" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Create (0.3ms)[0m  [1m[32mINSERT INTO "reportes" ("producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 764813928], ["user_id", 590306657], ["created_at", "2023-10-28 09:15:15.034520"], ["updated_at", "2023-10-28 09:15:15.034520"], ["nuevo_atributo", nil], ["descripcion", "Un nuevo reporte"]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/764813928
Completed 302 Found in 5ms (ActiveRecord: 1.2ms | Allocations: 2330)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReportesControllerTest: test_eliminar_producto_si_tiene_3_o_más_reportes
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"5", "descripcion"=>"[REDACTED]"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 8ms (ActiveRecord: 1.6ms | Allocations: 4544)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
PaginaPrincipalControllerTest: test_should_get_index
----------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.3ms | Allocations: 264)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 549)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2572)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 3308)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PinsControllerTest: test_should_get_edit
----------------------------------------
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 2.3ms | Allocations: 2118)
  Rendered pins/edit.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2520)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 4672)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.2ms | Allocations: 5849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_create_pin
------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.1ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-10-28 09:15:15.080109"], ["updated_at", "2023-10-28 09:15:15.080109"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1069)
  [1m[36mPin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_update_pin
------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PinsControllerTest: test_should_destroy_pin
-------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1527)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
PinsControllerTest: test_should_get_new
---------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 0.7ms | Allocations: 737)
  Rendered pins/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 960)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2930)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 3252)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
MessagesControllerTest: test_debe_crear_mensajes_en_la_sala_de_chat
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 AND "rooms"."id" != $2 LIMIT $3[0m  [["name", "MyString"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started POST "/rooms/980190962/messages" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by MessagesController#create as HTML
  Parameters: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "room_id"=>"980190962"}
[31mUnpermitted parameter: :room_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007f7cda0ead90>, params: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "controller"=>"messages", "action"=>"create", "room_id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["body", "Hola Mundo"], ["created_at", "2023-10-28 09:15:15.120089"], ["updated_at", "2023-10-28 09:15:15.120089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered messages/_message.html.erb (Duration: 0.4ms | Allocations: 249)
[ActionCable] Broadcasting to Z2lkOi8vcHJveWVjdG8tZ3J1cG8zNy9Sb29tLzk4MDE5MDk2Mg: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-590306657\">\n    <div class=\"message-box msg-590306657 \" >\n            <h6 class=\"name\"> usuario1 </h6>\n        Hola Mundo\n    </div>\n</div></template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 1.0ms | Allocations: 4855)
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_metodo_index_funciona_correctamente
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.0ms | Allocations: 614)
  [1m[36mProducto Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "productos"[0m
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  Rendered productos/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1404)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 3385)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 0.7ms | Allocations: 5430)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_puede_crear_un_producto_y_que_luego_se_rediriga_adecuadamente
------------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/productos" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by ProductosController#create as HTML
  Parameters: {"producto"=>{"nombre"=>"NewProducto", "descripcion"=>"[REDACTED]", "categoria"=>"accesorios"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Create (0.3ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["nombre", "NewProducto"], ["categoria", "accesorios"], ["disponible", true], ["created_at", "2023-10-28 09:15:15.151697"], ["updated_at", "2023-10-28 09:15:15.151697"], ["estado", nil], ["intercambiado", nil], ["user_id", 590306657], ["descripcion", "[REDACTED]"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/882865121
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 2328)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" ORDER BY "productos"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_productos_se_actualizan_correctamente
---------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos/764813928/editar?producto[nombre]=NewName&producto[descripcion]=Nueva+descripci%C3%B3n%21&producto[categoria]=accesorio" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by ProductosController#page_update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering productos/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 404)
  Rendered productos/page_update.html.erb within layouts/application (Duration: 1.4ms | Allocations: 911)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2725)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 3151)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
IntercambiosControllerTest: test_debería_ejecutar_el_método_index
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
Started GET "/intercambios" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by IntercambiosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.9ms | Allocations: 614)
  [1m[36mIntercambio Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1371)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 3352)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.4ms | Allocations: 4163)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
IntercambiosControllerTest: test_método_destroy_debe_funcionar_acorde
---------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
Started GET "/intercambios/762610083/eliminar" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by IntercambiosController#destroy as HTML
  Parameters: {"id"=>"762610083"}
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Update (0.1ms)[0m  [1m[33mUPDATE "productos" SET "disponible" = $1, "updated_at" = $2 WHERE "productos"."id" = $3[0m  [["disponible", true], ["updated_at", "2023-10-28 09:15:15.188191"], ["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 1450)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
IntercambiosControllerTest: test_método_create_debe_funcionar
-------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
Started GET "/intercambios/871544775/create" for 127.0.0.1 at 2023-10-28 06:15:15 -0300
Processing by IntercambiosController#create as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mIntercambio Create (0.2ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-10-28 09:15:15.197215"], ["updated_at", "2023-10-28 09:15:15.197215"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mProducto Update (0.1ms)[0m  [1m[33mUPDATE "productos" SET "disponible" = $1, "updated_at" = $2 WHERE "productos"."id" = $3[0m  [["disponible", false], ["updated_at", "2023-10-28 09:15:15.198097"], ["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 1676)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-10-28 10:29:33.422141', '2023-10-28 10:29:33.422141', NULL, 1, 2), (880660507, 882865120, '2023-10-28 10:29:33.422141', '2023-10-28 10:29:33.422141', 'Pendiente', 2, 3), (58384526, 503109352, '2023-10-28 10:29:33.422141', '2023-10-28 10:29:33.422141', 'Pendiente', 3, 1), (488535345, 60310349, '2023-10-28 10:29:33.422141', '2023-10-28 10:29:33.422141', 'Pendiente', 1, 2);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-10-28 10:29:33.429152', '2023-10-28 10:29:33.429152'), (298486374, 608344442, 298486374, 'MyText', '2023-10-28 10:29:33.429152', '2023-10-28 10:29:33.429152');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-10-28 10:29:33.432551', '2023-10-28 10:29:33.432551'), (298486374, 975572189, 298486374, '2023-10-28 10:29:33.432551', '2023-10-28 10:29:33.432551');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-10-28 10:29:33.434215', '2023-10-28 10:29:33.434215'), (298486374, 'MyString', '2023-10-28 10:29:33.434215', '2023-10-28 10:29:33.434215');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-10-28 10:29:33.435653', '2023-10-28 10:29:33.435653', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (721151615, NULL, 'accesorio', DEFAULT, '2023-10-28 10:29:33.435653', '2023-10-28 10:29:33.435653', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba'), (503109352, 'Nombre3', NULL, DEFAULT, '2023-10-28 10:29:33.435653', '2023-10-28 10:29:33.435653', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba'), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-10-28 10:29:33.435653', '2023-10-28 10:29:33.435653', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-10-28 10:29:33.435653', '2023-10-28 10:29:33.435653', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (764813928, 'Nombre6', 'accesorio', DEFAULT, '2023-10-28 10:29:33.435653', '2023-10-28 10:29:33.435653', DEFAULT, DEFAULT, 608344442, 'Descripcion de prueba');
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 975572189, '2023-10-28 10:29:33.436779', '2023-10-28 10:29:33.436779', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-10-28 10:29:33.436779', '2023-10-28 10:29:33.436779', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word'), (507351460, 871544775, 975572189, '2023-10-28 10:29:33.436779', '2023-10-28 10:29:33.436779', DEFAULT, 'Reporte de prueba'), (5833737, 871544775, 975572189, '2023-10-28 10:29:33.436779', '2023-10-28 10:29:33.436779', DEFAULT, 'nada de nada'), (928920724, 882865120, 590306657, '2023-10-28 10:29:33.436779', '2023-10-28 10:29:33.436779', DEFAULT, 'Primer reporte del producto'), (777479468, 764813928, 590306657, '2023-10-28 10:29:33.436779', '2023-10-28 10:29:33.436779', DEFAULT, 'A');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-10-28 10:29:33.438711', '2023-10-28 10:29:33.438711'), (298486374, 'MyString', FALSE, '2023-10-28 10:29:33.438711', '2023-10-28 10:29:33.438711');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin", "productos_fav") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 10:29:33.439528', '2023-10-28 10:29:33.439528', 'usuario1', DEFAULT, DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 10:29:33.439528', '2023-10-28 10:29:33.439528', 'usuario2', DEFAULT, DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 10:29:33.439528', '2023-10-28 10:29:33.439528', 'usuario3', DEFAULT, DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 10:29:33.439528', '2023-10-28 10:29:33.439528', 'usuario4', DEFAULT, DEFAULT), (608344442, 'elvistek@uc.cl', 'elvis420', DEFAULT, DEFAULT, DEFAULT, '2023-10-28 10:29:33.439528', '2023-10-28 10:29:33.439528', 'usuario5', DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
IntercambiosControllerTest: test_método_create_debe_funcionar
-------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
Started GET "/intercambios/871544775/create" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by IntercambiosController#create as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mIntercambio Create (0.3ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-10-28 10:29:33.573165"], ["updated_at", "2023-10-28 10:29:33.573165"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mProducto Update (0.2ms)[0m  [1m[33mUPDATE "productos" SET "disponible" = $1, "updated_at" = $2 WHERE "productos"."id" = $3[0m  [["disponible", false], ["updated_at", "2023-10-28 10:29:33.574284"], ["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 8ms (ActiveRecord: 1.4ms | Allocations: 5567)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
IntercambiosControllerTest: test_método_destroy_debe_funcionar_acorde
---------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
Started GET "/intercambios/762610083/eliminar" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by IntercambiosController#destroy as HTML
  Parameters: {"id"=>"762610083"}
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Update (0.1ms)[0m  [1m[33mUPDATE "productos" SET "disponible" = $1, "updated_at" = $2 WHERE "productos"."id" = $3[0m  [["disponible", true], ["updated_at", "2023-10-28 10:29:33.584212"], ["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 1442)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
IntercambiosControllerTest: test_debería_ejecutar_el_método_index
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
Started GET "/intercambios" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by IntercambiosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 5.7ms | Allocations: 3349)
  [1m[36mIntercambio Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 16.3ms | Allocations: 4550)
  Rendered layout layouts/application.html.erb (Duration: 70.9ms | Allocations: 58868)
Completed 200 OK in 76ms (Views: 71.4ms | ActiveRecord: 1.6ms | Allocations: 62572)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.2ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 3.0ms | Allocations: 7582)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started PATCH "/usuarios/590306657" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Nuevo Nombre"}, "id"=>"590306657"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "name" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-28 10:29:33.701267"], ["name", "Nuevo Nombre"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.4ms | Allocations: 1070)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Comprobar_que_metodo_show_funcione_correctamente
--------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started GET "/user/590306657" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mRoom Create (0.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "private_323332591_590306657"], ["is_private", true], ["created_at", "2023-10-28 10:29:33.715132"], ["updated_at", "2023-10-28 10:29:33.715132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.4ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190963], ["created_at", "2023-10-28 10:29:33.720697"], ["updated_at", "2023-10-28 10:29:33.720697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 323332591], ["room_id", 980190963], ["created_at", "2023-10-28 10:29:33.722809"], ["updated_at", "2023-10-28 10:29:33.722809"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 597)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 323332591]]
  Rendered collection of users/_user.html.erb [4 times] (Duration: 0.5ms | Allocations: 402)
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190963]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 22)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.8ms | Allocations: 1539)
  Rendered rooms/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4587)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 6538)
Completed 200 OK in 27ms (Views: 8.4ms | ActiveRecord: 3.0ms | Allocations: 17393)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
MessagesControllerTest: test_debe_crear_mensajes_en_la_sala_de_chat
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 AND "rooms"."id" != $2 LIMIT $3[0m  [["name", "MyString"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started POST "/rooms/980190962/messages" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by MessagesController#create as HTML
  Parameters: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "room_id"=>"980190962"}
[31mUnpermitted parameter: :room_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007f318b7924f8>, params: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "controller"=>"messages", "action"=>"create", "room_id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["body", "Hola Mundo"], ["created_at", "2023-10-28 10:29:33.744761"], ["updated_at", "2023-10-28 10:29:33.744761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered messages/_message.html.erb (Duration: 0.4ms | Allocations: 249)
[ActionCable] Broadcasting to Z2lkOi8vcHJveWVjdG8tZ3J1cG8zNy9Sb29tLzk4MDE5MDk2Mg: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-590306657\">\n    <div class=\"message-box msg-590306657 \" >\n            <h6 class=\"name\"> usuario1 </h6>\n        Hola Mundo\n    </div>\n</div></template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 0.5ms | Allocations: 4896)
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReportesControllerTest: test_eliminar_producto_si_tiene_3_o_más_reportes
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"5", "descripcion"=>"[REDACTED]"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 6ms (ActiveRecord: 1.7ms | Allocations: 2186)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_actualice_correctamente
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reporte/808710283/editar?reporte[producto_id]=871544775&reporte[user_id]=975572189&reporte[descripcion]=Reporte+de+prueba" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by ReportesController#page_update as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"975572189", "descripcion"=>"Reporte de prueba"}, "id"=>"808710283"}
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.9ms | Allocations: 611)
  Rendered reportes/page_update.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1084)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 3033)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms | Allocations: 3949)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_cree_y_rediriga_correctamente
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/764813928/new?reporte[producto_id]=764813928&reporte[user_id]=1&reporte[descripcion]=Un+nuevo+reporte" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by ReportesController#new as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 406)
  Rendered reportes/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 734)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2557)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms | Allocations: 2874)
Started POST "/reportes/764813928" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Create (0.4ms)[0m  [1m[32mINSERT INTO "reportes" ("producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 764813928], ["user_id", 590306657], ["created_at", "2023-10-28 10:29:33.802618"], ["updated_at", "2023-10-28 10:29:33.802618"], ["nuevo_atributo", nil], ["descripcion", "Un nuevo reporte"]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/764813928
Completed 302 Found in 6ms (ActiveRecord: 1.9ms | Allocations: 1948)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 404)
  [1m[36mReporte Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1251)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 3065)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms | Allocations: 3487)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
HelloWorldControllerTest: test_should_get_index
-----------------------------------------------
Started GET "/hello_world/index" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by HelloWorldController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering hello_world/index.html.erb within layouts/application
  Rendered hello_world/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 122)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 2390)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms | Allocations: 3123)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PinsControllerTest: test_should_destroy_pin
-------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 2083)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
PinsControllerTest: test_should_get_new
---------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 2.5ms | Allocations: 2027)
  Rendered pins/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2362)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 4525)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms | Allocations: 5240)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PinsControllerTest: test_should_get_edit
----------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 0.7ms | Allocations: 826)
  Rendered pins/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1122)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 3084)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms | Allocations: 3528)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_create_pin
------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.2ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-10-28 10:29:33.860080"], ["updated_at", "2023-10-28 10:29:33.860080"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 947)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_update_pin
------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 584)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
PaginaPrincipalControllerTest: test_should_get_index
----------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.2ms | Allocations: 264)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 549)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 2572)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 3308)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_productos_se_actualizan_correctamente
---------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos/764813928/editar?producto[nombre]=NewName&producto[descripcion]=Nueva+descripci%C3%B3n%21&producto[categoria]=accesorio" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by ProductosController#page_update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering productos/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.1ms | Allocations: 614)
  Rendered productos/page_update.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1180)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 3129)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.5ms | Allocations: 4128)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_puede_crear_un_producto_y_que_luego_se_rediriga_adecuadamente
------------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/productos" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by ProductosController#create as HTML
  Parameters: {"producto"=>{"nombre"=>"NewProducto", "descripcion"=>"[REDACTED]", "categoria"=>"accesorios"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Create (0.3ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["nombre", "NewProducto"], ["categoria", "accesorios"], ["disponible", true], ["created_at", "2023-10-28 10:29:33.899654"], ["updated_at", "2023-10-28 10:29:33.899654"], ["estado", nil], ["intercambiado", nil], ["user_id", 590306657], ["descripcion", "[REDACTED]"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/882865121
Completed 302 Found in 3ms (ActiveRecord: 0.8ms | Allocations: 1323)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" ORDER BY "productos"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_metodo_index_funciona_correctamente
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos" for 127.0.0.1 at 2023-10-28 07:29:33 -0300
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.0ms | Allocations: 404)
  [1m[36mProducto Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "productos"[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  Rendered productos/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1151)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 2974)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.7ms | Allocations: 3285)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.2ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-11-02 17:39:49.328664', '2023-11-02 17:39:49.328664', NULL, 1, 2), (880660507, 882865120, '2023-11-02 17:39:49.328664', '2023-11-02 17:39:49.328664', 'Pendiente', 2, 3), (58384526, 503109352, '2023-11-02 17:39:49.328664', '2023-11-02 17:39:49.328664', 'Pendiente', 3, 1), (488535345, 60310349, '2023-11-02 17:39:49.328664', '2023-11-02 17:39:49.328664', 'Pendiente', 1, 2);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-11-02 17:39:49.338614', '2023-11-02 17:39:49.338614'), (298486374, 608344442, 298486374, 'MyText', '2023-11-02 17:39:49.338614', '2023-11-02 17:39:49.338614');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-11-02 17:39:49.344737', '2023-11-02 17:39:49.344737'), (298486374, 975572189, 298486374, '2023-11-02 17:39:49.344737', '2023-11-02 17:39:49.344737');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-11-02 17:39:49.348140', '2023-11-02 17:39:49.348140'), (298486374, 'MyString', '2023-11-02 17:39:49.348140', '2023-11-02 17:39:49.348140');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-11-02 17:39:49.351275', '2023-11-02 17:39:49.351275', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (721151615, NULL, 'accesorio', DEFAULT, '2023-11-02 17:39:49.351275', '2023-11-02 17:39:49.351275', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba'), (503109352, 'Nombre3', NULL, DEFAULT, '2023-11-02 17:39:49.351275', '2023-11-02 17:39:49.351275', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba'), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-11-02 17:39:49.351275', '2023-11-02 17:39:49.351275', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-11-02 17:39:49.351275', '2023-11-02 17:39:49.351275', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (764813928, 'Nombre6', 'accesorio', DEFAULT, '2023-11-02 17:39:49.351275', '2023-11-02 17:39:49.351275', DEFAULT, DEFAULT, 608344442, 'Descripcion de prueba');
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 975572189, '2023-11-02 17:39:49.354679', '2023-11-02 17:39:49.354679', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-11-02 17:39:49.354679', '2023-11-02 17:39:49.354679', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word'), (507351460, 871544775, 975572189, '2023-11-02 17:39:49.354679', '2023-11-02 17:39:49.354679', DEFAULT, 'Reporte de prueba'), (5833737, 871544775, 975572189, '2023-11-02 17:39:49.354679', '2023-11-02 17:39:49.354679', DEFAULT, 'nada de nada'), (928920724, 882865120, 590306657, '2023-11-02 17:39:49.354679', '2023-11-02 17:39:49.354679', DEFAULT, 'Primer reporte del producto'), (777479468, 764813928, 590306657, '2023-11-02 17:39:49.354679', '2023-11-02 17:39:49.354679', DEFAULT, 'A');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-11-02 17:39:49.358946', '2023-11-02 17:39:49.358946'), (298486374, 'MyString', FALSE, '2023-11-02 17:39:49.358946', '2023-11-02 17:39:49.358946');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin", "productos_fav") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-11-02 17:39:49.360903', '2023-11-02 17:39:49.360903', 'usuario1', DEFAULT, DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-11-02 17:39:49.360903', '2023-11-02 17:39:49.360903', 'usuario2', DEFAULT, DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-11-02 17:39:49.360903', '2023-11-02 17:39:49.360903', 'usuario3', DEFAULT, DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-11-02 17:39:49.360903', '2023-11-02 17:39:49.360903', 'usuario4', DEFAULT, DEFAULT), (608344442, 'elvistek@uc.cl', 'elvis420', DEFAULT, DEFAULT, DEFAULT, '2023-11-02 17:39:49.360903', '2023-11-02 17:39:49.360903', 'usuario5', DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PinsControllerTest: test_should_destroy_pin
-------------------------------------------
  [1m[36mPin Load (0.5ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-11-02 14:39:49 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.5ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.5ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 31ms (ActiveRecord: 3.3ms | Allocations: 8925)
  [1m[36mPin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_create_pin
------------------------------------------
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-11-02 14:39:49 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.3ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-11-02 17:39:49.673905"], ["updated_at", "2023-11-02 17:39:49.673905"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1453)
  [1m[36mPin Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PinsControllerTest: test_should_get_edit
----------------------------------------
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-11-02 14:39:49 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.4ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 7.3ms | Allocations: 2678)
  Rendered pins/edit.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3414)
  Rendered layout layouts/application.html.erb (Duration: 137.5ms | Allocations: 45192)
Completed 200 OK in 151ms (Views: 143.4ms | ActiveRecord: 0.4ms | Allocations: 49071)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
PinsControllerTest: test_should_get_new
---------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-11-02 14:39:49 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 1.2ms | Allocations: 754)
  Rendered pins/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 960)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 2934)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 3268)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_update_pin
------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-11-02 14:39:49 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 702)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
MessagesControllerTest: test_debe_crear_mensajes_en_la_sala_de_chat
-------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 AND "rooms"."id" != $2 LIMIT $3[0m  [["name", "MyString"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mMessage Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started POST "/rooms/980190962/messages" for 127.0.0.1 at 2023-11-02 14:39:49 -0300
Processing by MessagesController#create as HTML
  Parameters: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "room_id"=>"980190962"}
[31mUnpermitted parameter: :room_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007fe29416c7d0>, params: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "controller"=>"messages", "action"=>"create", "room_id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["body", "Hola Mundo"], ["created_at", "2023-11-02 17:39:49.891385"], ["updated_at", "2023-11-02 17:39:49.891385"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered messages/_message.html.erb (Duration: 0.7ms | Allocations: 255)
[ActionCable] Broadcasting to Z2lkOi8vcHJveWVjdG8tZ3J1cG8zNy9Sb29tLzk4MDE5MDk2Mg: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-590306657\">\n    <div class=\"message-box msg-590306657 \" >\n            <h6 class=\"name\"> usuario1 </h6>\n        Hola Mundo\n    </div>\n</div></template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 27ms (ActiveRecord: 1.6ms | Allocations: 8900)
  [1m[36mMessage Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_actualice_correctamente
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.5ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.4ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reporte/808710283/editar?reporte[producto_id]=871544775&reporte[user_id]=975572189&reporte[descripcion]=Reporte+de+prueba" for 127.0.0.1 at 2023-11-02 14:39:49 -0300
Processing by ReportesController#page_update as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"975572189", "descripcion"=>"Reporte de prueba"}, "id"=>"808710283"}
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 3.2ms | Allocations: 977)
  Rendered reportes/page_update.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1529)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3482)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.8ms | Allocations: 4601)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_cree_y_rediriga_correctamente
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.4ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/764813928/new?reporte[producto_id]=764813928&reporte[user_id]=1&reporte[descripcion]=Un+nuevo+reporte" for 127.0.0.1 at 2023-11-02 14:39:49 -0300
Processing by ReportesController#new as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.7ms | Allocations: 406)
  Rendered reportes/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 734)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 2557)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms | Allocations: 2861)
Started POST "/reportes/764813928" for 127.0.0.1 at 2023-11-02 14:39:49 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Create (0.5ms)[0m  [1m[32mINSERT INTO "reportes" ("producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 764813928], ["user_id", 590306657], ["created_at", "2023-11-02 17:39:50.004118"], ["updated_at", "2023-11-02 17:39:50.004118"], ["nuevo_atributo", nil], ["descripcion", "Un nuevo reporte"]]
  [1m[36mReporte Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/764813928
Completed 302 Found in 10ms (ActiveRecord: 2.5ms | Allocations: 2320)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.4ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.2ms | Allocations: 404)
  [1m[36mReporte Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.4ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1437)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3251)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.1ms | Allocations: 3673)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReportesControllerTest: test_eliminar_producto_si_tiene_3_o_más_reportes
------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.4ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"5", "descripcion"=>"[REDACTED]"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.5ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 15ms (ActiveRecord: 3.0ms | Allocations: 4692)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_puede_crear_un_producto_y_que_luego_se_rediriga_adecuadamente
------------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/productos" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by ProductosController#create as HTML
  Parameters: {"producto"=>{"nombre"=>"NewProducto", "descripcion"=>"[REDACTED]", "categoria"=>"accesorios"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Create (0.7ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["nombre", "NewProducto"], ["categoria", "accesorios"], ["disponible", true], ["created_at", "2023-11-02 17:39:50.102604"], ["updated_at", "2023-11-02 17:39:50.102604"], ["estado", nil], ["intercambiado", nil], ["user_id", 590306657], ["descripcion", "[REDACTED]"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/882865121
Completed 302 Found in 18ms (ActiveRecord: 1.6ms | Allocations: 4116)
  [1m[36mProducto Load (0.5ms)[0m  [1m[34mSELECT "productos".* FROM "productos" ORDER BY "productos"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.4ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.5ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_metodo_index_funciona_correctamente
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 2.2ms | Allocations: 610)
  [1m[36mProducto Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "productos"[0m
  [1m[36mProducto Load (0.6ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  Rendered productos/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1397)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 3378)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 1.6ms | Allocations: 4095)
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.7ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.5ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_productos_se_actualizan_correctamente
---------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.7ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos/764813928/editar?producto[nombre]=NewName&producto[descripcion]=Nueva+descripci%C3%B3n%21&producto[categoria]=accesorio" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by ProductosController#page_update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering productos/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.7ms | Allocations: 404)
  Rendered productos/page_update.html.erb within layouts/application (Duration: 3.1ms | Allocations: 911)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 2725)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.7ms | Allocations: 3157)
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.4ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.6ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.5ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.7ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.6ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started PATCH "/usuarios/590306657" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Nuevo Nombre"}, "id"=>"590306657"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "name" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-02 17:39:50.222911"], ["name", "Nuevo Nombre"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms | Allocations: 1142)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Comprobar_que_metodo_show_funcione_correctamente
--------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started GET "/user/590306657" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.6ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mRoom Create (0.3ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "private_323332591_590306657"], ["is_private", true], ["created_at", "2023-11-02 17:39:50.239639"], ["updated_at", "2023-11-02 17:39:50.239639"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.5ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190963], ["created_at", "2023-11-02 17:39:50.246677"], ["updated_at", "2023-11-02 17:39:50.246677"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.3ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 323332591], ["room_id", 980190963], ["created_at", "2023-11-02 17:39:50.250510"], ["updated_at", "2023-11-02 17:39:50.250510"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.8ms | Allocations: 597)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 323332591]]
  Rendered collection of users/_user.html.erb [4 times] (Duration: 1.0ms | Allocations: 342)
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190963]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 22)
  Rendered layouts/_new_message_form.html.erb (Duration: 4.9ms | Allocations: 1106)
  Rendered rooms/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3402)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 5354)
Completed 200 OK in 35ms (Views: 15.4ms | ActiveRecord: 5.4ms | Allocations: 10870)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.4ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.3ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 3.0ms | Allocations: 5321)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
HelloWorldControllerTest: test_should_get_index
-----------------------------------------------
Started GET "/hello_world/index" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by HelloWorldController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering hello_world/index.html.erb within layouts/application
  Rendered hello_world/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 122)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 2315)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms | Allocations: 3047)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
IntercambiosControllerTest: test_método_destroy_debe_funcionar_acorde
---------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
Started GET "/intercambios/762610083/eliminar" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by IntercambiosController#destroy as HTML
  Parameters: {"id"=>"762610083"}
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Update (0.5ms)[0m  [1m[33mUPDATE "productos" SET "disponible" = $1, "updated_at" = $2 WHERE "productos"."id" = $3[0m  [["disponible", true], ["updated_at", "2023-11-02 17:39:50.341913"], ["id", 871544775]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Destroy (0.5ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 7ms (ActiveRecord: 2.0ms | Allocations: 1771)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
IntercambiosControllerTest: test_debería_ejecutar_el_método_index
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
Started GET "/intercambios" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by IntercambiosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.4ms | Allocations: 610)
  [1m[36mIntercambio Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.4ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1366)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 3347)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.9ms | Allocations: 4057)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
IntercambiosControllerTest: test_método_create_debe_funcionar
-------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
Started GET "/intercambios/871544775/create" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by IntercambiosController#create as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mIntercambio Create (0.4ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-02 17:39:50.373101"], ["updated_at", "2023-11-02 17:39:50.373101"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mProducto Update (0.2ms)[0m  [1m[33mUPDATE "productos" SET "disponible" = $1, "updated_at" = $2 WHERE "productos"."id" = $3[0m  [["disponible", false], ["updated_at", "2023-11-02 17:39:50.374651"], ["id", 871544775]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 7ms (ActiveRecord: 1.8ms | Allocations: 1759)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
PaginaPrincipalControllerTest: test_should_get_index
----------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-11-02 14:39:50 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.5ms | Allocations: 264)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 549)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 2572)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 3308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-11-02 17:40:06.729392', '2023-11-02 17:40:06.729392', NULL, 1, 2), (880660507, 882865120, '2023-11-02 17:40:06.729392', '2023-11-02 17:40:06.729392', 'Pendiente', 2, 3), (58384526, 503109352, '2023-11-02 17:40:06.729392', '2023-11-02 17:40:06.729392', 'Pendiente', 3, 1), (488535345, 60310349, '2023-11-02 17:40:06.729392', '2023-11-02 17:40:06.729392', 'Pendiente', 1, 2);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-11-02 17:40:06.737076', '2023-11-02 17:40:06.737076'), (298486374, 608344442, 298486374, 'MyText', '2023-11-02 17:40:06.737076', '2023-11-02 17:40:06.737076');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-11-02 17:40:06.742935', '2023-11-02 17:40:06.742935'), (298486374, 975572189, 298486374, '2023-11-02 17:40:06.742935', '2023-11-02 17:40:06.742935');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-11-02 17:40:06.746001', '2023-11-02 17:40:06.746001'), (298486374, 'MyString', '2023-11-02 17:40:06.746001', '2023-11-02 17:40:06.746001');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-11-02 17:40:06.748711', '2023-11-02 17:40:06.748711', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (721151615, NULL, 'accesorio', DEFAULT, '2023-11-02 17:40:06.748711', '2023-11-02 17:40:06.748711', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba'), (503109352, 'Nombre3', NULL, DEFAULT, '2023-11-02 17:40:06.748711', '2023-11-02 17:40:06.748711', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba'), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-11-02 17:40:06.748711', '2023-11-02 17:40:06.748711', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-11-02 17:40:06.748711', '2023-11-02 17:40:06.748711', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba'), (764813928, 'Nombre6', 'accesorio', DEFAULT, '2023-11-02 17:40:06.748711', '2023-11-02 17:40:06.748711', DEFAULT, DEFAULT, 608344442, 'Descripcion de prueba');
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 975572189, '2023-11-02 17:40:06.750771', '2023-11-02 17:40:06.750771', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-11-02 17:40:06.750771', '2023-11-02 17:40:06.750771', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word'), (507351460, 871544775, 975572189, '2023-11-02 17:40:06.750771', '2023-11-02 17:40:06.750771', DEFAULT, 'Reporte de prueba'), (5833737, 871544775, 975572189, '2023-11-02 17:40:06.750771', '2023-11-02 17:40:06.750771', DEFAULT, 'nada de nada'), (928920724, 882865120, 590306657, '2023-11-02 17:40:06.750771', '2023-11-02 17:40:06.750771', DEFAULT, 'Primer reporte del producto'), (777479468, 764813928, 590306657, '2023-11-02 17:40:06.750771', '2023-11-02 17:40:06.750771', DEFAULT, 'A');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-11-02 17:40:06.753939', '2023-11-02 17:40:06.753939'), (298486374, 'MyString', FALSE, '2023-11-02 17:40:06.753939', '2023-11-02 17:40:06.753939');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin", "productos_fav") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-11-02 17:40:06.755453', '2023-11-02 17:40:06.755453', 'usuario1', DEFAULT, DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-11-02 17:40:06.755453', '2023-11-02 17:40:06.755453', 'usuario2', DEFAULT, DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-11-02 17:40:06.755453', '2023-11-02 17:40:06.755453', 'usuario3', DEFAULT, DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-11-02 17:40:06.755453', '2023-11-02 17:40:06.755453', 'usuario4', DEFAULT, DEFAULT), (608344442, 'elvistek@uc.cl', 'elvis420', DEFAULT, DEFAULT, DEFAULT, '2023-11-02 17:40:06.755453', '2023-11-02 17:40:06.755453', 'usuario5', DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_productos_se_actualizan_correctamente
---------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.5ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos/764813928/editar?producto[nombre]=NewName&producto[descripcion]=Nueva+descripci%C3%B3n%21&producto[categoria]=accesorio" for 127.0.0.1 at 2023-11-02 14:40:06 -0300
Processing by ProductosController#page_update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.6ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering productos/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 11.8ms | Allocations: 3887)
  Rendered productos/page_update.html.erb within layouts/application (Duration: 14.0ms | Allocations: 4953)
  Rendered layout layouts/application.html.erb (Duration: 87.7ms | Allocations: 45981)
Completed 200 OK in 102ms (Views: 90.2ms | ActiveRecord: 2.3ms | Allocations: 51518)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.7ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.5ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_metodo_index_funciona_correctamente
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 2.0ms | Allocations: 425)
  [1m[36mProducto Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "productos"[0m
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  Rendered productos/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1239)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3141)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.9ms | Allocations: 3495)
  [1m[36mProducto Load (0.5ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.6ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_puede_crear_un_producto_y_que_luego_se_rediriga_adecuadamente
------------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/productos" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by ProductosController#create as HTML
  Parameters: {"producto"=>{"nombre"=>"NewProducto", "descripcion"=>"[REDACTED]", "categoria"=>"accesorios"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Create (0.6ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["nombre", "NewProducto"], ["categoria", "accesorios"], ["disponible", true], ["created_at", "2023-11-02 17:40:07.115538"], ["updated_at", "2023-11-02 17:40:07.115538"], ["estado", nil], ["intercambiado", nil], ["user_id", 590306657], ["descripcion", "[REDACTED]"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/882865121
Completed 302 Found in 7ms (ActiveRecord: 1.3ms | Allocations: 3262)
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" ORDER BY "productos"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.6ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PinsControllerTest: test_should_destroy_pin
-------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 6ms (ActiveRecord: 1.1ms | Allocations: 2103)
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
PinsControllerTest: test_should_get_new
---------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 5.6ms | Allocations: 2477)
  Rendered pins/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2818)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 5058)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 5774)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_update_pin
------------------------------------------
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 813)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PinsControllerTest: test_should_get_edit
----------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 1.1ms | Allocations: 816)
  Rendered pins/edit.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1118)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 3089)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms | Allocations: 3515)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PinsControllerTest: test_should_create_pin
------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.5ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-11-02 17:40:07.187068"], ["updated_at", "2023-11-02 17:40:07.187068"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.8ms | Allocations: 754)
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
IntercambiosControllerTest: test_método_create_debe_funcionar
-------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
Started GET "/intercambios/871544775/create" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by IntercambiosController#create as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mIntercambio Create (0.4ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-02 17:40:07.207651"], ["updated_at", "2023-11-02 17:40:07.207651"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mProducto Update (0.3ms)[0m  [1m[33mUPDATE "productos" SET "disponible" = $1, "updated_at" = $2 WHERE "productos"."id" = $3[0m  [["disponible", false], ["updated_at", "2023-11-02 17:40:07.209229"], ["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 8ms (ActiveRecord: 1.7ms | Allocations: 2249)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
IntercambiosControllerTest: test_debería_ejecutar_el_método_index
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.5ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
Started GET "/intercambios" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by IntercambiosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.7ms | Allocations: 609)
  [1m[36mIntercambio Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1367)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 3349)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 1.0ms | Allocations: 4062)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
IntercambiosControllerTest: test_método_destroy_debe_funcionar_acorde
---------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
Started GET "/intercambios/762610083/eliminar" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by IntercambiosController#destroy as HTML
  Parameters: {"id"=>"762610083"}
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Update (0.4ms)[0m  [1m[33mUPDATE "productos" SET "disponible" = $1, "updated_at" = $2 WHERE "productos"."id" = $3[0m  [["disponible", true], ["updated_at", "2023-11-02 17:40:07.238271"], ["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 6ms (ActiveRecord: 1.5ms | Allocations: 1412)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReportesControllerTest: test_eliminar_producto_si_tiene_3_o_más_reportes
------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.4ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"5", "descripcion"=>"[REDACTED]"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.6ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 8ms (ActiveRecord: 2.8ms | Allocations: 1916)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_cree_y_rediriga_correctamente
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/764813928/new?reporte[producto_id]=764813928&reporte[user_id]=1&reporte[descripcion]=Un+nuevo+reporte" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by ReportesController#new as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.5ms | Allocations: 613)
  Rendered reportes/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1032)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 2992)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.3ms | Allocations: 3708)
Started POST "/reportes/764813928" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Create (0.5ms)[0m  [1m[32mINSERT INTO "reportes" ("producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 764813928], ["user_id", 590306657], ["created_at", "2023-11-02 17:40:07.302486"], ["updated_at", "2023-11-02 17:40:07.302486"], ["nuevo_atributo", nil], ["descripcion", "Un nuevo reporte"]]
  [1m[36mReporte Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/764813928
Completed 302 Found in 8ms (ActiveRecord: 2.4ms | Allocations: 2004)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.7ms | Allocations: 404)
  [1m[36mReporte Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1259)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3073)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 1.0ms | Allocations: 3522)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_actualice_correctamente
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.4ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reporte/808710283/editar?reporte[producto_id]=871544775&reporte[user_id]=975572189&reporte[descripcion]=Reporte+de+prueba" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by ReportesController#page_update as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"975572189", "descripcion"=>"Reporte de prueba"}, "id"=>"808710283"}
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.1ms | Allocations: 404)
  Rendered reportes/page_update.html.erb within layouts/application (Duration: 2.1ms | Allocations: 783)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 2597)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.4ms | Allocations: 3093)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
HelloWorldControllerTest: test_should_get_index
-----------------------------------------------
Started GET "/hello_world/index" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by HelloWorldController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering hello_world/index.html.erb within layouts/application
  Rendered hello_world/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 122)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2315)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms | Allocations: 3047)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
MessagesControllerTest: test_debe_crear_mensajes_en_la_sala_de_chat
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 AND "rooms"."id" != $2 LIMIT $3[0m  [["name", "MyString"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mMessage Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started POST "/rooms/980190962/messages" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by MessagesController#create as HTML
  Parameters: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "room_id"=>"980190962"}
[31mUnpermitted parameter: :room_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007f77a8e881a0>, params: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "controller"=>"messages", "action"=>"create", "room_id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["body", "Hola Mundo"], ["created_at", "2023-11-02 17:40:07.389341"], ["updated_at", "2023-11-02 17:40:07.389341"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered messages/_message.html.erb (Duration: 0.6ms | Allocations: 254)
[ActionCable] Broadcasting to Z2lkOi8vcHJveWVjdG8tZ3J1cG8zNy9Sb29tLzk4MDE5MDk2Mg: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-590306657\">\n    <div class=\"message-box msg-590306657 \" >\n            <h6 class=\"name\"> usuario1 </h6>\n        Hola Mundo\n    </div>\n</div></template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 1.2ms | Allocations: 8428)
  [1m[36mMessage Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
PaginaPrincipalControllerTest: test_should_get_index
----------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.5ms | Allocations: 264)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 549)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 2572)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms | Allocations: 3308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.3ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 2.6ms | Allocations: 5563)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Comprobar_que_metodo_show_funcione_correctamente
--------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started GET "/user/590306657" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.3ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mRoom Create (0.3ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "private_323332591_590306657"], ["is_private", true], ["created_at", "2023-11-02 17:40:07.450405"], ["updated_at", "2023-11-02 17:40:07.450405"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.6ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190963], ["created_at", "2023-11-02 17:40:07.456977"], ["updated_at", "2023-11-02 17:40:07.456977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.3ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 323332591], ["room_id", 980190963], ["created_at", "2023-11-02 17:40:07.460909"], ["updated_at", "2023-11-02 17:40:07.460909"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.6ms | Allocations: 597)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 323332591]]
  Rendered collection of users/_user.html.erb [4 times] (Duration: 0.9ms | Allocations: 343)
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190963]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 22)
  Rendered layouts/_new_message_form.html.erb (Duration: 2.3ms | Allocations: 1106)
  Rendered rooms/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3382)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 5334)
Completed 200 OK in 30ms (Views: 12.3ms | ActiveRecord: 4.5ms | Allocations: 10817)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
Started PATCH "/usuarios/590306657" for 127.0.0.1 at 2023-11-02 14:40:07 -0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Nuevo Nombre"}, "id"=>"590306657"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "name" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-02 17:40:07.485170"], ["name", "Nuevo Nombre"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 2.1ms | Allocations: 836)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7618729947119324985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CalificarUsuario (20231111195604)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "users" ADD "calificacion" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231111195604"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNuevoAtributoToProducto (20231120031101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "productos" ADD "visitas" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231120031101"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDefaultVisitasToProductos (20231120043315)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "productos" ALTER COLUMN "visitas" TYPE integer, ALTER COLUMN "visitas" SET DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231120043315"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7618729947119324985)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.7ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-11-22 00:31:33.719063', '2023-11-22 00:31:33.719063', NULL, 1, 2), (880660507, 882865120, '2023-11-22 00:31:33.719063', '2023-11-22 00:31:33.719063', 'Pendiente', 2, 3), (58384526, 503109352, '2023-11-22 00:31:33.719063', '2023-11-22 00:31:33.719063', 'Pendiente', 3, 1), (488535345, 60310349, '2023-11-22 00:31:33.719063', '2023-11-22 00:31:33.719063', 'Pendiente', 1, 2), (279003002, 60310349, '2023-11-22 00:31:33.719063', '2023-11-22 00:31:33.719063', 'Pendiente', 1, 2);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-11-22 00:31:33.722950', '2023-11-22 00:31:33.722950'), (298486374, 608344442, 298486374, 'MyText', '2023-11-22 00:31:33.722950', '2023-11-22 00:31:33.722950');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-11-22 00:31:33.726213', '2023-11-22 00:31:33.726213'), (298486374, 975572189, 298486374, '2023-11-22 00:31:33.726213', '2023-11-22 00:31:33.726213');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-11-22 00:31:33.728102', '2023-11-22 00:31:33.728102'), (298486374, 'MyString', '2023-11-22 00:31:33.728102', '2023-11-22 00:31:33.728102');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion", "visitas") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-11-22 00:31:33.729700', '2023-11-22 00:31:33.729700', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (721151615, NULL, 'accesorio', DEFAULT, '2023-11-22 00:31:33.729700', '2023-11-22 00:31:33.729700', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba', DEFAULT), (503109352, 'Nombre3', NULL, DEFAULT, '2023-11-22 00:31:33.729700', '2023-11-22 00:31:33.729700', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba', DEFAULT), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-11-22 00:31:33.729700', '2023-11-22 00:31:33.729700', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-11-22 00:31:33.729700', '2023-11-22 00:31:33.729700', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (764813928, 'Nombre6', 'accesorio', DEFAULT, '2023-11-22 00:31:33.729700', '2023-11-22 00:31:33.729700', DEFAULT, DEFAULT, 608344442, 'Descripcion de prueba', DEFAULT), (445715185, 'hoodie', 'Poleron', DEFAULT, '2023-11-22 00:31:33.729700', '2023-11-22 00:31:33.729700', DEFAULT, DEFAULT, 590306657, 'hoodie negro', DEFAULT), (389637042, 'fav', 'Polera', DEFAULT, '2023-11-22 00:31:33.729700', '2023-11-22 00:31:33.729700', DEFAULT, DEFAULT, 590306657, 'polera fav', DEFAULT);
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 975572189, '2023-11-22 00:31:33.730923', '2023-11-22 00:31:33.730923', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-11-22 00:31:33.730923', '2023-11-22 00:31:33.730923', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word'), (507351460, 871544775, 975572189, '2023-11-22 00:31:33.730923', '2023-11-22 00:31:33.730923', DEFAULT, 'Reporte de prueba'), (5833737, 871544775, 975572189, '2023-11-22 00:31:33.730923', '2023-11-22 00:31:33.730923', DEFAULT, 'nada de nada'), (928920724, 882865120, 590306657, '2023-11-22 00:31:33.730923', '2023-11-22 00:31:33.730923', DEFAULT, 'Primer reporte del producto'), (777479468, 764813928, 590306657, '2023-11-22 00:31:33.730923', '2023-11-22 00:31:33.730923', DEFAULT, 'A');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-11-22 00:31:33.732801', '2023-11-22 00:31:33.732801'), (298486374, 'MyString', FALSE, '2023-11-22 00:31:33.732801', '2023-11-22 00:31:33.732801');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin", "productos_fav", "calificacion") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:31:33.733573', '2023-11-22 00:31:33.733573', 'usuario1', DEFAULT, DEFAULT, DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:31:33.733573', '2023-11-22 00:31:33.733573', 'usuario2', DEFAULT, DEFAULT, DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:31:33.733573', '2023-11-22 00:31:33.733573', 'usuario3', DEFAULT, DEFAULT, DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:31:33.733573', '2023-11-22 00:31:33.733573', 'usuario4', DEFAULT, DEFAULT, DEFAULT), (608344442, 'elvistek@uc.cl', 'elvis420', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:31:33.733573', '2023-11-22 00:31:33.733573', 'usuario5', DEFAULT, DEFAULT, DEFAULT), (1028376774, 'elpepe@uc.cl', 'pepe123', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:31:33.733573', '2023-11-22 00:31:33.733573', 'pepebotella', DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_productos_se_actualizan_correctamente_en_la_página
----------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/764813928/editar?producto[nombre]=NewName&producto[descripcion]=Nueva+descripci%C3%B3n%21&producto[categoria]=accesorio&producto[disponible]=false" for 127.0.0.1 at 2023-11-21 21:31:33 -0300
Processing by ProductosController#page_update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "disponible"=>"false"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering productos/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.7ms | Allocations: 1217)
  Rendered productos/page_update.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2797)
  Rendered layout layouts/application.html.erb (Duration: 66.7ms | Allocations: 57550)
Completed 200 OK in 74ms (Views: 68.9ms | ActiveRecord: 0.4ms | Allocations: 61794)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductosControllerTest: test_Los_productos_son_únicos
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 445715185], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/productos" for 127.0.0.1 at 2023-11-21 21:31:33 -0300
Processing by ProductosController#create as HTML
  Parameters: {"producto"=>{"nombre"=>"Nombre1", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"false"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
[31mUnpermitted parameter: :disponible. Context: { controller: ProductosController, action: create, request: #<ActionDispatch::Request:0x00007fa6b4fa1308>, params: {"producto"=>{"nombre"=>"Nombre1", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"false"}, "controller"=>"productos", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 450)
  Rendered productos/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1610)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 3481)
Completed 422 Unprocessable Entity in 7ms (Views: 3.6ms | ActiveRecord: 1.5ms | Allocations: 5335)
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.4ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_metodo_index_funciona_correctamente
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.1ms | Allocations: 464)
  [1m[36mProducto Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "productos"[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  Rendered productos/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1604)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 3427)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.8ms | Allocations: 3701)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
ProductosControllerTest: test_Los_productos_no_se_actulizan_si_se_llenan_mal_los_campos
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started PATCH "/productos/871544775" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ProductosController#update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "parametro_desconocido"=>"true"}, "id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
[31mUnpermitted parameter: :parametro_desconocido. Context: { controller: ProductosController, action: update, request: #<ActionDispatch::Request:0x00007fa6b4b99dc8>, params: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "parametro_desconocido"=>"true"}, "controller"=>"productos", "action"=>"update", "id"=>"871544775"} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 413)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 986)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 2804)
Completed 422 Unprocessable Entity in 5ms (Views: 2.2ms | ActiveRecord: 0.9ms | Allocations: 4223)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_redirige_correctamente_al_eliminar_el_producto_de_favoritos
----------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/usuario/871544775/eliminar_favorito" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ProductosController#eliminar_favorito as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
Redirected to http://www.example.com/usuario/871544775/favoritos
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 2188)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_puede_crear_un_producto_y_que_luego_se_rediriga_adecuadamente
------------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos/new?producto[nombre]=Nombre5&producto[descripcion]=Descripcion+de+prueba&producto[categoria]=accesorio&producto[disponible]=true" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ProductosController#new as HTML
  Parameters: {"producto"=>{"nombre"=>"Nombre5", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"true"}}
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 457)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 715)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 2537)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.1ms | Allocations: 2764)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ProductosControllerTest: test_Los_productos_son_destruidos_y_luego_se_redirige_correctamente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/764813928/eliminar" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ProductosController#destroy as HTML
  Parameters: {"id"=>"764813928"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 777479468]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.4ms | Allocations: 1788)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
ProductosControllerTest: test_debería_mostrar_el_producto_correctamente_en_el_método_show
-----------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/871544775" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 457)
  Rendered productos/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1382)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 3196)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.7ms | Allocations: 4502)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_pueda_agregar_el_producto_a_la_lista_de_fav
------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/871544775/favorito" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ProductosController#favoritos as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "productos_fav" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:31:34.112264"], ["productos_fav", "{\"871544775\":[{\"id\":871544775,\"nombre\":\"Nombre1\",\"categoria\":\"accesorio\",\"disponible\":null,\"created_at\":\"2023-11-22T00:31:33.729Z\",\"updated_at\":\"2023-11-22T00:31:33.729Z\",\"estado\":null,\"intercambiado\":null,\"user_id\":590306657,\"descripcion\":\"Descripcion de prueba\",\"visitas\":0}]}"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/usuario/871544775/favoritos
Completed 302 Found in 3ms (ActiveRecord: 1.0ms | Allocations: 1587)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
RoomsControllerTest: test_solo_deben_haber_dos_usuarios_en_la_sala_de_chat
--------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mParticipant Create (0.3ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["created_at", "2023-11-22 00:31:34.127946"], ["updated_at", "2023-11-22 00:31:34.127946"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 975572189], ["room_id", 980190962], ["created_at", "2023-11-22 00:31:34.129525"], ["updated_at", "2023-11-22 00:31:34.129525"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/rooms/980190962" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 975572189], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 975572189]]
  Rendered collection of users/_user.html.erb [5 times] (Duration: 0.7ms | Allocations: 509)
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 1.2ms | Allocations: 710)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.6ms | Allocations: 1163)
  Rendered rooms/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 5485)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 7436)
Completed 200 OK in 18ms (Views: 10.1ms | ActiveRecord: 1.0ms | Allocations: 12571)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
AdminsControllerTest: test_usuarios_normales_no_tienen_acceso_a_permisos_del_administrador
------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/admin" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by AdminsController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :admin_only rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 286)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
ApplicationHelperTest: test_Se_retorna_'Sin_estrellas'_para_calificación_no_positiva
------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ApplicationHelperTest: test_Se_retornan_estrellas_correctas_para_calificación_positiva
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
IntercambiosControllerTest: test_debería_ejecutar_el_método_index
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
Started GET "/intercambios" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by IntercambiosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.9ms | Allocations: 684)
  [1m[36mIntercambio Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1454)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 3434)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.4ms | Allocations: 4245)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------
IntercambiosControllerTest: test_los_intercambios_se_deben_poder_eliminar
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
Started GET "/intercambios/762610083/eliminar" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by IntercambiosController#destroy as HTML
  Parameters: {"id"=>"762610083"}
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 1623)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------
IntercambiosControllerTest: test_los_intercambios_se_pueden_llevar_a_cabo
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/intercambios/488535345" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by IntercambiosController#update as HTML
  Parameters: {"intercambio"=>{"estado"=>"Aceptado"}, "id"=>"488535345"}
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Update (0.2ms)[0m  [1m[33mUPDATE "intercambios" SET "updated_at" = $1, "estado" = $2 WHERE "intercambios"."id" = $3[0m  [["updated_at", "2023-11-22 00:31:34.184120"], ["estado", "Aceptado"], ["id", 488535345]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios?id=488535345
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 939)
Started GET "/intercambios?id=488535345" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by IntercambiosController#index as HTML
  Parameters: {"id"=>"488535345"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 459)
  [1m[36mIntercambio Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 778)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 2601)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms | Allocations: 3385)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
IntercambiosControllerTest: test_método_create_debe_funcionar
-------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/intercambios/871544775/create" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by IntercambiosController#create as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mIntercambio Create (0.3ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-22 00:31:34.199913"], ["updated_at", "2023-11-22 00:31:34.199913"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Create (0.2ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-22 00:31:34.199913"], ["updated_at", "2023-11-22 00:31:34.199913"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 5ms (ActiveRecord: 1.9ms | Allocations: 2231)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
IntercambiosControllerTest: test_no_hay_intercambios_duplicados
---------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
IntercambiosControllerTest: test_la_página_de_edición_de_intercambios_debe_funcionar
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/intercambios/488535345/editar" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by IntercambiosController#page_update as HTML
  Parameters: {"id"=>"488535345"}
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering intercambios/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 462)
  Rendered intercambios/page_update.html.erb within layouts/application (Duration: 1.6ms | Allocations: 863)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2677)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms | Allocations: 3086)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
PinsControllerTest: test_Debería_mostrar_index
----------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 2.5ms | Allocations: 1773)
  Rendered pins/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2105)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 4343)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 5168)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
PinsControllerTest: test_Método_create_funciona
-----------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.2ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-11-22 00:31:34.233888"], ["updated_at", "2023-11-22 00:31:34.233888"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1065)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
PinsControllerTest: test_Método_destroy_destuye_pin
---------------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 3ms (ActiveRecord: 0.8ms | Allocations: 1655)
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PinsControllerTest: test_Método_edit_funciona
---------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 0.7ms | Allocations: 805)
  Rendered pins/edit.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1090)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 3052)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms | Allocations: 3476)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
PinsControllerTest: test_Funciona_método_update
-----------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 584)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
PaginaPrincipalControllerTest: test_Se_debe_acceder_a_la_página_principal_sin_problemas
---------------------------------------------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.3ms | Allocations: 331)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 616)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2638)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms | Allocations: 3374)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
MessagesControllerTest: test_debe_crear_mensajes_en_la_sala_de_chat
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 AND "rooms"."id" != $2 LIMIT $3[0m  [["name", "MyString"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mMessage Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started POST "/rooms/980190962/messages" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by MessagesController#create as HTML
  Parameters: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "room_id"=>"980190962"}
[31mUnpermitted parameter: :room_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007fa696360260>, params: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "controller"=>"messages", "action"=>"create", "room_id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["body", "Hola Mundo"], ["created_at", "2023-11-22 00:31:34.269278"], ["updated_at", "2023-11-22 00:31:34.269278"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered messages/_message.html.erb (Duration: 0.4ms | Allocations: 240)
[ActionCable] Broadcasting to Z2lkOi8vcHJveWVjdG8tZ3J1cG8zNy9Sb29tLzk4MDE5MDk2Mg: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-590306657\">\n    <div class=\"message-box msg-590306657 \" >\n            <h6 class=\"name\"> usuario1 </h6>\n        Hola Mundo\n    </div>\n</div></template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 10ms (ActiveRecord: 0.7ms | Allocations: 4868)
  [1m[36mMessage Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 503109352], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 721151615], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_Al_calificar_un_usuario_se_redirige_correctamente
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started POST "/usuario/1028376774" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by UsersController#calificar_usuario as HTML
  Parameters: {"calificacion"=>"5", "id"=>"1028376774"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "calificacion" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:31:34.296757"], ["calificacion", 5], ["id", 1028376774]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1199)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_Los_usuarios_pueden_acceder_a_la_sección_de_favoritos
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuario/590306657/favoritos" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by UsersController#favoritos as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/favoritos.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.9ms | Allocations: 669)
  Rendered users/favoritos.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1151)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 3131)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms | Allocations: 3971)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.1ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.6ms | Allocations: 5210)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_Un_usuario_no_registrado_puede_utilizar_la_página_de_visita
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuario/1028376774" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by UsersController#cuenta_visita as HTML
  Parameters: {"id"=>"1028376774"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/cuenta_visita.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 467)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1028376774], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/cuenta_visita.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1859)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 3725)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms | Allocations: 4201)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UsersControllerTest: test_los_usuarios_puede_editar_su_perfil
-------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuarios/590306657/editar" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by UsersController#page_update as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.9ms | Allocations: 461)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/page_update.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2307)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 4187)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.6ms | Allocations: 4609)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_no_se_puede_calificar_a_un_usuario_si_no_se_ha_inciado_sesión
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started POST "/usuario/590306657" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by UsersController#calificar_usuario as HTML
  Parameters: {"calificacion"=>"5", "id"=>"590306657"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "calificacion" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:31:34.365184"], ["calificacion", 5], ["id", 590306657]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.8ms | Allocations: 1081)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started PATCH "/usuarios/590306657" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Nuevo Nombre"}, "id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "name" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:31:34.374667"], ["name", "Nuevo Nombre"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.7ms | Allocations: 762)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Comprobar_que_metodo_show_funcione_correctamente
--------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/user/590306657" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mRoom Create (0.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "private_323332591_590306657"], ["is_private", true], ["created_at", "2023-11-22 00:31:34.386790"], ["updated_at", "2023-11-22 00:31:34.386790"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190963], ["created_at", "2023-11-22 00:31:34.389530"], ["updated_at", "2023-11-22 00:31:34.389530"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 323332591], ["room_id", 980190963], ["created_at", "2023-11-22 00:31:34.391261"], ["updated_at", "2023-11-22 00:31:34.391261"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 323332591]]
  Rendered collection of users/_user.html.erb [5 times] (Duration: 0.4ms | Allocations: 301)
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190963]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.5ms | Allocations: 445)
  Rendered rooms/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1910)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 3774)
Completed 200 OK in 13ms (Views: 3.9ms | ActiveRecord: 3.1ms | Allocations: 7475)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 682)
  [1m[36mReporte Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1557)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 3526)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.8ms | Allocations: 4504)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
ReportesControllerTest: test_es_posible_eliminar_un_reporte
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reporte/808710283/eliminar" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ReportesController#destroy as HTML
  Parameters: {"id"=>"808710283"}
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms | Allocations: 571)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_cree_y_rediriga_correctamente
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reportes/764813928/new?reporte[producto_id]=764813928&reporte[user_id]=1&reporte[descripcion]=Un+nuevo+reporte" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ReportesController#new as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 457)
  Rendered reportes/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 815)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 2650)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms | Allocations: 2965)
Started POST "/reportes/764813928" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Create (0.3ms)[0m  [1m[32mINSERT INTO "reportes" ("producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 764813928], ["user_id", 590306657], ["created_at", "2023-11-22 00:31:34.468757"], ["updated_at", "2023-11-22 00:31:34.468757"], ["nuevo_atributo", nil], ["descripcion", "Un nuevo reporte"]]
  [1m[36mReporte Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/764813928
Completed 302 Found in 4ms (ActiveRecord: 1.4ms | Allocations: 1867)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReportesControllerTest: test_eliminar_producto_si_tiene_3_o_más_reportes
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-11-21 21:31:34 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"5", "descripcion"=>"[REDACTED]"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 7ms (ActiveRecord: 2.5ms | Allocations: 1912)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.6ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-11-22 00:40:04.845936', '2023-11-22 00:40:04.845936', NULL, 1, 2), (880660507, 882865120, '2023-11-22 00:40:04.845936', '2023-11-22 00:40:04.845936', 'Pendiente', 2, 3), (58384526, 503109352, '2023-11-22 00:40:04.845936', '2023-11-22 00:40:04.845936', 'Pendiente', 3, 1), (488535345, 60310349, '2023-11-22 00:40:04.845936', '2023-11-22 00:40:04.845936', 'Pendiente', 1, 2);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-11-22 00:40:04.850035', '2023-11-22 00:40:04.850035'), (298486374, 608344442, 298486374, 'MyText', '2023-11-22 00:40:04.850035', '2023-11-22 00:40:04.850035');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-11-22 00:40:04.852961', '2023-11-22 00:40:04.852961'), (298486374, 975572189, 298486374, '2023-11-22 00:40:04.852961', '2023-11-22 00:40:04.852961');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-11-22 00:40:04.854336', '2023-11-22 00:40:04.854336'), (298486374, 'MyString', '2023-11-22 00:40:04.854336', '2023-11-22 00:40:04.854336');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion", "visitas") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-11-22 00:40:04.855466', '2023-11-22 00:40:04.855466', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (721151615, NULL, 'accesorio', DEFAULT, '2023-11-22 00:40:04.855466', '2023-11-22 00:40:04.855466', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba', DEFAULT), (503109352, 'Nombre3', NULL, DEFAULT, '2023-11-22 00:40:04.855466', '2023-11-22 00:40:04.855466', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba', DEFAULT), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-11-22 00:40:04.855466', '2023-11-22 00:40:04.855466', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-11-22 00:40:04.855466', '2023-11-22 00:40:04.855466', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (764813928, 'Nombre6', 'accesorio', DEFAULT, '2023-11-22 00:40:04.855466', '2023-11-22 00:40:04.855466', DEFAULT, DEFAULT, 608344442, 'Descripcion de prueba', DEFAULT), (445715185, 'hoodie', 'Poleron', DEFAULT, '2023-11-22 00:40:04.855466', '2023-11-22 00:40:04.855466', DEFAULT, DEFAULT, 590306657, 'hoodie negro', DEFAULT);
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 975572189, '2023-11-22 00:40:04.856563', '2023-11-22 00:40:04.856563', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-11-22 00:40:04.856563', '2023-11-22 00:40:04.856563', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word'), (507351460, 871544775, 975572189, '2023-11-22 00:40:04.856563', '2023-11-22 00:40:04.856563', DEFAULT, 'Reporte de prueba'), (5833737, 871544775, 975572189, '2023-11-22 00:40:04.856563', '2023-11-22 00:40:04.856563', DEFAULT, 'nada de nada'), (928920724, 882865120, 590306657, '2023-11-22 00:40:04.856563', '2023-11-22 00:40:04.856563', DEFAULT, 'Primer reporte del producto'), (777479468, 764813928, 590306657, '2023-11-22 00:40:04.856563', '2023-11-22 00:40:04.856563', DEFAULT, 'A');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-11-22 00:40:04.858265', '2023-11-22 00:40:04.858265'), (298486374, 'MyString', FALSE, '2023-11-22 00:40:04.858265', '2023-11-22 00:40:04.858265');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin", "productos_fav", "calificacion") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:40:04.858972', '2023-11-22 00:40:04.858972', 'usuario1', DEFAULT, DEFAULT, DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:40:04.858972', '2023-11-22 00:40:04.858972', 'usuario2', DEFAULT, DEFAULT, DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:40:04.858972', '2023-11-22 00:40:04.858972', 'usuario3', DEFAULT, DEFAULT, DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:40:04.858972', '2023-11-22 00:40:04.858972', 'usuario4', DEFAULT, DEFAULT, DEFAULT), (608344442, 'elvistek@uc.cl', 'elvis420', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:40:04.858972', '2023-11-22 00:40:04.858972', 'usuario5', DEFAULT, DEFAULT, DEFAULT), (1028376774, 'elpepe@uc.cl', 'pepe123', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:40:04.858972', '2023-11-22 00:40:04.858972', 'pepebotella', DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ApplicationHelperTest: test_Se_retornan_estrellas_correctas_para_calificación_positiva
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
ApplicationHelperTest: test_Se_retorna_'Sin_estrellas'_para_calificación_no_positiva
------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PinsControllerTest: test_Método_edit_funciona
---------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-11-21 21:40:04 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 2.5ms | Allocations: 2749)
  Rendered pins/edit.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3491)
  Rendered layout layouts/application.html.erb (Duration: 55.2ms | Allocations: 58555)
Completed 200 OK in 60ms (Views: 56.6ms | ActiveRecord: 0.2ms | Allocations: 62642)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
PinsControllerTest: test_Método_create_funciona
-----------------------------------------------
  [1m[36mPin Load (0.5ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.3ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-11-22 00:40:05.011276"], ["updated_at", "2023-11-22 00:40:05.011276"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.9ms | Allocations: 1647)
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
PinsControllerTest: test_Debería_mostrar_index
----------------------------------------------
  [1m[36mPin Load (0.4ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 0.6ms | Allocations: 808)
  Rendered pins/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1036)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 3079)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 3412)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
PinsControllerTest: test_Método_destroy_destuye_pin
---------------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 11ms (ActiveRecord: 1.3ms | Allocations: 7996)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
PinsControllerTest: test_Funciona_método_update
-----------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 687)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
MessagesControllerTest: test_debe_crear_mensajes_en_la_sala_de_chat
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 AND "rooms"."id" != $2 LIMIT $3[0m  [["name", "MyString"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started POST "/rooms/980190962/messages" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by MessagesController#create as HTML
  Parameters: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "room_id"=>"980190962"}
[31mUnpermitted parameter: :room_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007fab7aa16350>, params: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "controller"=>"messages", "action"=>"create", "room_id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["body", "Hola Mundo"], ["created_at", "2023-11-22 00:40:05.056427"], ["updated_at", "2023-11-22 00:40:05.056427"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered messages/_message.html.erb (Duration: 0.3ms | Allocations: 256)
[ActionCable] Broadcasting to Z2lkOi8vcHJveWVjdG8tZ3J1cG8zNy9Sb29tLzk4MDE5MDk2Mg: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-590306657\">\n    <div class=\"message-box msg-590306657 \" >\n            <h6 class=\"name\"> usuario1 </h6>\n        Hola Mundo\n    </div>\n</div></template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 0.8ms | Allocations: 8900)
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
AdminsControllerTest: test_usuarios_normales_no_tienen_acceso_a_permisos_del_administrador
------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/admin" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by AdminsController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :admin_only rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 1554)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started PATCH "/usuarios/590306657" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Nuevo Nombre"}, "id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "name" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:40:05.080303"], ["name", "Nuevo Nombre"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 1296)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_Un_usuario_no_registrado_puede_utilizar_la_página_de_visita
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuario/1028376774" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by UsersController#cuenta_visita as HTML
  Parameters: {"id"=>"1028376774"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/cuenta_visita.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.5ms | Allocations: 1104)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1028376774], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/cuenta_visita.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3519)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 5464)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.5ms | Allocations: 6297)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_Al_calificar_un_usuario_se_redirige_correctamente
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started POST "/usuario/1028376774" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by UsersController#calificar_usuario as HTML
  Parameters: {"calificacion"=>"5", "id"=>"1028376774"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "calificacion" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:40:05.104323"], ["calificacion", 2], ["id", 1028376774]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.8ms | Allocations: 957)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.5ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.1ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.7ms | Allocations: 5674)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Comprobar_que_metodo_show_funcione_correctamente
--------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/user/590306657" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mRoom Create (0.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "private_323332591_590306657"], ["is_private", true], ["created_at", "2023-11-22 00:40:05.129201"], ["updated_at", "2023-11-22 00:40:05.129201"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190963], ["created_at", "2023-11-22 00:40:05.132097"], ["updated_at", "2023-11-22 00:40:05.132097"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 323332591], ["room_id", 980190963], ["created_at", "2023-11-22 00:40:05.133723"], ["updated_at", "2023-11-22 00:40:05.133723"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 456)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 323332591]]
  Rendered collection of users/_user.html.erb [5 times] (Duration: 0.5ms | Allocations: 373)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190963]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 22)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.2ms | Allocations: 1091)
  Rendered rooms/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3247)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 5129)
Completed 200 OK in 13ms (Views: 5.5ms | ActiveRecord: 2.2ms | Allocations: 10274)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_redirige_correctamente_al_eliminar_el_producto_de_favoritos
----------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/usuario/871544775/eliminar_favorito" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ProductosController#eliminar_favorito as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
Redirected to http://www.example.com/usuario/871544775/favoritos
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 895)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_metodo_index_funciona_correctamente
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 679)
  [1m[36mProducto Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "productos"[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  Rendered productos/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1685)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 3665)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms | Allocations: 4374)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_productos_se_actualizan_correctamente_en_la_página
----------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/764813928/editar?producto[nombre]=NewName&producto[descripcion]=Nueva+descripci%C3%B3n%21&producto[categoria]=accesorio&producto[disponible]=false" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ProductosController#page_update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "disponible"=>"false"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering productos/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 462)
  Rendered productos/page_update.html.erb within layouts/application (Duration: 1.2ms | Allocations: 974)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 2788)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 3331)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductosControllerTest: test_Los_productos_son_únicos
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 445715185], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/productos" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ProductosController#create as HTML
  Parameters: {"producto"=>{"nombre"=>"Nombre1", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"false"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
[31mUnpermitted parameter: :disponible. Context: { controller: ProductosController, action: create, request: #<ActionDispatch::Request:0x00007fab78329878>, params: {"producto"=>{"nombre"=>"Nombre1", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"false"}, "controller"=>"productos", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 415)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1326)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 3140)
Completed 422 Unprocessable Entity in 5ms (Views: 2.4ms | ActiveRecord: 1.3ms | Allocations: 4432)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_pueda_agregar_el_producto_a_la_lista_de_fav
------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/871544775/favorito" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ProductosController#favoritos as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "productos_fav" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:40:05.212912"], ["productos_fav", "{\"871544775\":[{\"id\":871544775,\"nombre\":\"Nombre1\",\"categoria\":\"accesorio\",\"disponible\":null,\"created_at\":\"2023-11-22T00:40:04.855Z\",\"updated_at\":\"2023-11-22T00:40:04.855Z\",\"estado\":null,\"intercambiado\":null,\"user_id\":590306657,\"descripcion\":\"Descripcion de prueba\",\"visitas\":0}]}"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/usuario/871544775/favoritos
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1484)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
ProductosControllerTest: test_Los_productos_no_se_actulizan_si_se_llenan_mal_los_campos
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started PATCH "/productos/871544775" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ProductosController#update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "parametro_desconocido"=>"true"}, "id"=>"871544775"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
[31mUnpermitted parameter: :parametro_desconocido. Context: { controller: ProductosController, action: update, request: #<ActionDispatch::Request:0x00007fab7827a800>, params: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "parametro_desconocido"=>"true"}, "controller"=>"productos", "action"=>"update", "id"=>"871544775"} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 413)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 985)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 2799)
Completed 422 Unprocessable Entity in 4ms (Views: 1.9ms | ActiveRecord: 0.5ms | Allocations: 4226)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ProductosControllerTest: test_Los_productos_son_destruidos_y_luego_se_redirige_correctamente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/764813928/eliminar" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ProductosController#destroy as HTML
  Parameters: {"id"=>"764813928"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 777479468]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 3ms (ActiveRecord: 0.9ms | Allocations: 1813)
  [1m[36mProducto Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_puede_crear_un_producto_y_que_luego_se_rediriga_adecuadamente
------------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos/new?producto[nombre]=Nombre5&producto[descripcion]=Descripcion+de+prueba&producto[categoria]=accesorio&producto[disponible]=true" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ProductosController#new as HTML
  Parameters: {"producto"=>{"nombre"=>"Nombre5", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"true"}}
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 457)
  Rendered productos/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 715)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 2537)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 2775)
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
PaginaPrincipalControllerTest: test_Se_debe_acceder_a_la_página_principal_sin_problemas
---------------------------------------------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.3ms | Allocations: 332)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 617)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2639)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 3375)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
IntercambiosControllerTest: test_debería_ejecutar_el_método_index
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
Started GET "/intercambios" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by IntercambiosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 683)
  [1m[36mIntercambio Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1440)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 3420)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms | Allocations: 4231)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
IntercambiosControllerTest: test_método_create_debe_funcionar
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/intercambios/871544775/create" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by IntercambiosController#create as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mIntercambio Create (0.2ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-22 00:40:05.283951"], ["updated_at", "2023-11-22 00:40:05.283951"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Create (0.1ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-22 00:40:05.283951"], ["updated_at", "2023-11-22 00:40:05.283951"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 4ms (ActiveRecord: 1.2ms | Allocations: 2353)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
IntercambiosControllerTest: test_método_destroy_debe_funcionar_acorde
---------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
Started GET "/intercambios/762610083/eliminar" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by IntercambiosController#destroy as HTML
  Parameters: {"id"=>"762610083"}
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 503109352], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 721151615], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 682)
  [1m[36mReporte Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1609)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 3558)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.4ms | Allocations: 4541)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_cree_y_rediriga_correctamente
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reportes/764813928/new?reporte[producto_id]=764813928&reporte[user_id]=1&reporte[descripcion]=Un+nuevo+reporte" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ReportesController#new as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 459)
  Rendered reportes/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 814)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 2637)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms | Allocations: 2954)
Started POST "/reportes/764813928" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Create (0.2ms)[0m  [1m[32mINSERT INTO "reportes" ("producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 764813928], ["user_id", 590306657], ["created_at", "2023-11-22 00:40:05.330422"], ["updated_at", "2023-11-22 00:40:05.330422"], ["nuevo_atributo", nil], ["descripcion", "Un nuevo reporte"]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/764813928
Completed 302 Found in 4ms (ActiveRecord: 1.0ms | Allocations: 1996)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReportesControllerTest: test_eliminar_producto_si_tiene_3_o_más_reportes
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"5", "descripcion"=>"[REDACTED]"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 4ms (ActiveRecord: 1.4ms | Allocations: 1918)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_actualice_correctamente
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
Started GET "/reporte/808710283/editar?reporte[producto_id]=871544775&reporte[user_id]=975572189&reporte[descripcion]=Reporte+de+prueba" for 127.0.0.1 at 2023-11-21 21:40:05 -0300
Processing by ReportesController#page_update as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"975572189", "descripcion"=>"Reporte de prueba"}, "id"=>"808710283"}
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 462)
  Rendered reportes/page_update.html.erb within layouts/application (Duration: 1.2ms | Allocations: 841)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2655)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 3151)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-11-22 00:42:10.881720', '2023-11-22 00:42:10.881720', NULL, 1, 2), (880660507, 882865120, '2023-11-22 00:42:10.881720', '2023-11-22 00:42:10.881720', 'Pendiente', 2, 3), (58384526, 503109352, '2023-11-22 00:42:10.881720', '2023-11-22 00:42:10.881720', 'Pendiente', 3, 1), (488535345, 60310349, '2023-11-22 00:42:10.881720', '2023-11-22 00:42:10.881720', 'Pendiente', 1, 2), (279003002, 60310349, '2023-11-22 00:42:10.881720', '2023-11-22 00:42:10.881720', 'Pendiente', 1, 2);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-11-22 00:42:10.885044', '2023-11-22 00:42:10.885044'), (298486374, 608344442, 298486374, 'MyText', '2023-11-22 00:42:10.885044', '2023-11-22 00:42:10.885044');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-11-22 00:42:10.887657', '2023-11-22 00:42:10.887657'), (298486374, 975572189, 298486374, '2023-11-22 00:42:10.887657', '2023-11-22 00:42:10.887657');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-11-22 00:42:10.889088', '2023-11-22 00:42:10.889088'), (298486374, 'MyString', '2023-11-22 00:42:10.889088', '2023-11-22 00:42:10.889088');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion", "visitas") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-11-22 00:42:10.890189', '2023-11-22 00:42:10.890189', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (721151615, NULL, 'accesorio', DEFAULT, '2023-11-22 00:42:10.890189', '2023-11-22 00:42:10.890189', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba', DEFAULT), (503109352, 'Nombre3', NULL, DEFAULT, '2023-11-22 00:42:10.890189', '2023-11-22 00:42:10.890189', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba', DEFAULT), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-11-22 00:42:10.890189', '2023-11-22 00:42:10.890189', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-11-22 00:42:10.890189', '2023-11-22 00:42:10.890189', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (764813928, 'Nombre6', 'accesorio', DEFAULT, '2023-11-22 00:42:10.890189', '2023-11-22 00:42:10.890189', DEFAULT, DEFAULT, 608344442, 'Descripcion de prueba', DEFAULT), (445715185, 'hoodie', 'Poleron', DEFAULT, '2023-11-22 00:42:10.890189', '2023-11-22 00:42:10.890189', DEFAULT, DEFAULT, 590306657, 'hoodie negro', DEFAULT), (389637042, 'fav', 'Polera', DEFAULT, '2023-11-22 00:42:10.890189', '2023-11-22 00:42:10.890189', DEFAULT, DEFAULT, 590306657, 'polera fav', DEFAULT);
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 975572189, '2023-11-22 00:42:10.891148', '2023-11-22 00:42:10.891148', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-11-22 00:42:10.891148', '2023-11-22 00:42:10.891148', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word'), (507351460, 871544775, 975572189, '2023-11-22 00:42:10.891148', '2023-11-22 00:42:10.891148', DEFAULT, 'Reporte de prueba'), (5833737, 871544775, 975572189, '2023-11-22 00:42:10.891148', '2023-11-22 00:42:10.891148', DEFAULT, 'nada de nada'), (928920724, 882865120, 590306657, '2023-11-22 00:42:10.891148', '2023-11-22 00:42:10.891148', DEFAULT, 'Primer reporte del producto'), (777479468, 764813928, 590306657, '2023-11-22 00:42:10.891148', '2023-11-22 00:42:10.891148', DEFAULT, 'A');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-11-22 00:42:10.892846', '2023-11-22 00:42:10.892846'), (298486374, 'MyString', FALSE, '2023-11-22 00:42:10.892846', '2023-11-22 00:42:10.892846');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin", "productos_fav", "calificacion") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:42:10.893581', '2023-11-22 00:42:10.893581', 'usuario1', DEFAULT, DEFAULT, DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:42:10.893581', '2023-11-22 00:42:10.893581', 'usuario2', DEFAULT, DEFAULT, DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:42:10.893581', '2023-11-22 00:42:10.893581', 'usuario3', DEFAULT, DEFAULT, DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:42:10.893581', '2023-11-22 00:42:10.893581', 'usuario4', DEFAULT, DEFAULT, DEFAULT), (608344442, 'elvistek@uc.cl', 'elvis420', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:42:10.893581', '2023-11-22 00:42:10.893581', 'usuario5', DEFAULT, DEFAULT, DEFAULT), (1028376774, 'elpepe@uc.cl', 'pepe123', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:42:10.893581', '2023-11-22 00:42:10.893581', 'pepebotella', DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
PinsControllerTest: test_Debería_mostrar_index
----------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-11-21 21:42:10 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 2.4ms | Allocations: 2673)
  Rendered pins/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3344)
  Rendered layout layouts/application.html.erb (Duration: 45.2ms | Allocations: 47806)
Completed 200 OK in 49ms (Views: 47.0ms | ActiveRecord: 0.0ms | Allocations: 51713)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
PinsControllerTest: test_Método_create_funciona
-----------------------------------------------
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.3ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-11-22 00:42:11.032536"], ["updated_at", "2023-11-22 00:42:11.032536"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.9ms | Allocations: 1635)
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
PinsControllerTest: test_Funciona_método_update
-----------------------------------------------
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 1ms (ActiveRecord: 0.3ms | Allocations: 812)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
PinsControllerTest: test_Método_destroy_destuye_pin
---------------------------------------------------
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 14ms (ActiveRecord: 3.1ms | Allocations: 7981)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PinsControllerTest: test_Método_edit_funciona
---------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 0.6ms | Allocations: 882)
  Rendered pins/edit.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1177)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 3212)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms | Allocations: 3668)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_cree_y_rediriga_correctamente
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reportes/764813928/new?reporte[producto_id]=764813928&reporte[user_id]=1&reporte[descripcion]=Un+nuevo+reporte" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ReportesController#new as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.2ms | Allocations: 1159)
  Rendered reportes/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1658)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 3628)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms | Allocations: 4431)
Started POST "/reportes/764813928" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Create (0.2ms)[0m  [1m[32mINSERT INTO "reportes" ("producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 764813928], ["user_id", 590306657], ["created_at", "2023-11-22 00:42:11.102382"], ["updated_at", "2023-11-22 00:42:11.102382"], ["nuevo_atributo", nil], ["descripcion", "Un nuevo reporte"]]
  [1m[36mReporte Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/764813928
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 2451)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReportesControllerTest: test_eliminar_producto_si_tiene_3_o_más_reportes
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"5", "descripcion"=>"[REDACTED]"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 7ms (ActiveRecord: 1.2ms | Allocations: 5263)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 457)
  [1m[36mReporte Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1282)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 3097)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.4ms | Allocations: 3529)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
ReportesControllerTest: test_es_posible_eliminar_un_reporte
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reporte/808710283/eliminar" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ReportesController#destroy as HTML
  Parameters: {"id"=>"808710283"}
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.4ms | Allocations: 520)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 721151615], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 503109352], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
AdminsControllerTest: test_usuarios_normales_no_tienen_acceso_a_permisos_del_administrador
------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/admin" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by AdminsController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :admin_only rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 1540)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
MessagesControllerTest: test_debe_crear_mensajes_en_la_sala_de_chat
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 AND "rooms"."id" != $2 LIMIT $3[0m  [["name", "MyString"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mMessage Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started POST "/rooms/980190962/messages" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by MessagesController#create as HTML
  Parameters: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "room_id"=>"980190962"}
[31mUnpermitted parameter: :room_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007f0997762a08>, params: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "controller"=>"messages", "action"=>"create", "room_id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["body", "Hola Mundo"], ["created_at", "2023-11-22 00:42:11.187131"], ["updated_at", "2023-11-22 00:42:11.187131"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered messages/_message.html.erb (Duration: 0.4ms | Allocations: 254)
[ActionCable] Broadcasting to Z2lkOi8vcHJveWVjdG8tZ3J1cG8zNy9Sb29tLzk4MDE5MDk2Mg: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-590306657\">\n    <div class=\"message-box msg-590306657 \" >\n            <h6 class=\"name\"> usuario1 </h6>\n        Hola Mundo\n    </div>\n</div></template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 9ms (ActiveRecord: 0.6ms | Allocations: 8015)
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
RoomsControllerTest: test_solo_deben_haber_dos_usuarios_en_la_sala_de_chat
--------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["created_at", "2023-11-22 00:42:11.198163"], ["updated_at", "2023-11-22 00:42:11.198163"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mParticipant Create (0.1ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 975572189], ["room_id", 980190962], ["created_at", "2023-11-22 00:42:11.199389"], ["updated_at", "2023-11-22 00:42:11.199389"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/rooms/980190962" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 975572189], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 975572189]]
  Rendered collection of users/_user.html.erb [5 times] (Duration: 0.5ms | Allocations: 458)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 0.9ms | Allocations: 632)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.4ms | Allocations: 1104)
  Rendered rooms/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4513)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 6464)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.6ms | Allocations: 8088)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------
IntercambiosControllerTest: test_los_intercambios_se_deben_poder_eliminar
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
Started GET "/intercambios/762610083/eliminar" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by IntercambiosController#destroy as HTML
  Parameters: {"id"=>"762610083"}
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1959)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
IntercambiosControllerTest: test_debería_ejecutar_el_método_index
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
Started GET "/intercambios" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by IntercambiosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.9ms | Allocations: 679)
  [1m[36mIntercambio Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1451)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 3431)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.4ms | Allocations: 4141)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
IntercambiosControllerTest: test_no_hay_intercambios_duplicados
---------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
IntercambiosControllerTest: test_la_página_de_edición_de_intercambios_debe_funcionar
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/intercambios/488535345/editar" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by IntercambiosController#page_update as HTML
  Parameters: {"id"=>"488535345"}
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering intercambios/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.0ms | Allocations: 462)
  Rendered intercambios/page_update.html.erb within layouts/application (Duration: 1.7ms | Allocations: 865)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 2679)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.5ms | Allocations: 3113)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------
IntercambiosControllerTest: test_los_intercambios_se_pueden_llevar_a_cabo
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/intercambios/488535345" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by IntercambiosController#update as HTML
  Parameters: {"intercambio"=>{"estado"=>"Aceptado"}, "id"=>"488535345"}
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Update (0.2ms)[0m  [1m[33mUPDATE "intercambios" SET "updated_at" = $1, "estado" = $2 WHERE "intercambios"."id" = $3[0m  [["updated_at", "2023-11-22 00:42:11.248853"], ["estado", "Aceptado"], ["id", 488535345]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios?id=488535345
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 1952)
Started GET "/intercambios?id=488535345" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by IntercambiosController#index as HTML
  Parameters: {"id"=>"488535345"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 459)
  [1m[36mIntercambio Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 778)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2601)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.5ms | Allocations: 3275)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
IntercambiosControllerTest: test_método_create_debe_funcionar
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/intercambios/871544775/create" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by IntercambiosController#create as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mIntercambio Create (0.2ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-22 00:42:11.261852"], ["updated_at", "2023-11-22 00:42:11.261852"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Create (0.1ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-22 00:42:11.261852"], ["updated_at", "2023-11-22 00:42:11.261852"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 5ms (ActiveRecord: 1.3ms | Allocations: 2228)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
ProductosControllerTest: test_Los_productos_no_se_actulizan_si_se_llenan_mal_los_campos
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started PATCH "/productos/871544775" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ProductosController#update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "parametro_desconocido"=>"true"}, "id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
[31mUnpermitted parameter: :parametro_desconocido. Context: { controller: ProductosController, action: update, request: #<ActionDispatch::Request:0x00007f09974bb480>, params: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "parametro_desconocido"=>"true"}, "controller"=>"productos", "action"=>"update", "id"=>"871544775"} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 624)
  Rendered productos/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1688)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 3633)
Completed 422 Unprocessable Entity in 6ms (Views: 3.6ms | ActiveRecord: 0.7ms | Allocations: 5921)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_redirige_correctamente_al_eliminar_el_producto_de_favoritos
----------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/usuario/871544775/eliminar_favorito" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ProductosController#eliminar_favorito as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
Redirected to http://www.example.com/usuario/871544775/favoritos
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 654)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
ProductosControllerTest: test_debería_mostrar_el_producto_correctamente_en_el_método_show
-----------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/871544775" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered productos/show.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1383)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 3197)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.5ms | Allocations: 4522)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductosControllerTest: test_Los_productos_son_únicos
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 445715185], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/productos" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ProductosController#create as HTML
  Parameters: {"producto"=>{"nombre"=>"Nombre1", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"false"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
[31mUnpermitted parameter: :disponible. Context: { controller: ProductosController, action: create, request: #<ActionDispatch::Request:0x00007f0997380408>, params: {"producto"=>{"nombre"=>"Nombre1", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"false"}, "controller"=>"productos", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 415)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 926)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 2740)
Completed 422 Unprocessable Entity in 5ms (Views: 2.1ms | ActiveRecord: 1.1ms | Allocations: 4024)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_pueda_agregar_el_producto_a_la_lista_de_fav
------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/871544775/favorito" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ProductosController#favoritos as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "productos_fav" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:42:11.333548"], ["productos_fav", "{\"871544775\":[{\"id\":871544775,\"nombre\":\"Nombre1\",\"categoria\":\"accesorio\",\"disponible\":null,\"created_at\":\"2023-11-22T00:42:10.890Z\",\"updated_at\":\"2023-11-22T00:42:10.890Z\",\"estado\":null,\"intercambiado\":null,\"user_id\":590306657,\"descripcion\":\"Descripcion de prueba\",\"visitas\":0}]}"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/usuario/871544775/favoritos
Completed 302 Found in 2ms (ActiveRecord: 0.6ms | Allocations: 1460)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ProductosControllerTest: test_Los_productos_son_destruidos_y_luego_se_redirige_correctamente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/764813928/eliminar" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ProductosController#destroy as HTML
  Parameters: {"id"=>"764813928"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 777479468]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.8ms | Allocations: 1770)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_metodo_index_funciona_correctamente
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 459)
  [1m[36mProducto Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "productos"[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  Rendered productos/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1566)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 3389)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.4ms | Allocations: 3662)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_productos_se_actualizan_correctamente_en_la_página
----------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/764813928/editar?producto[nombre]=NewName&producto[descripcion]=Nueva+descripci%C3%B3n%21&producto[categoria]=accesorio&producto[disponible]=false" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ProductosController#page_update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "disponible"=>"false"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering productos/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 462)
  Rendered productos/page_update.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1084)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2898)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms | Allocations: 3291)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_puede_crear_un_producto_y_que_luego_se_rediriga_adecuadamente
------------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos/new?producto[nombre]=Nombre5&producto[descripcion]=Descripcion+de+prueba&producto[categoria]=accesorio&producto[disponible]=true" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by ProductosController#new as HTML
  Parameters: {"producto"=>{"nombre"=>"Nombre5", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"true"}}
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 457)
  Rendered productos/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 715)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 2537)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 2764)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_Al_calificar_un_usuario_se_redirige_correctamente
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started POST "/usuario/1028376774" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by UsersController#calificar_usuario as HTML
  Parameters: {"calificacion"=>"5", "id"=>"1028376774"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "calificacion" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:42:11.405209"], ["calificacion", 5], ["id", 1028376774]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 1199)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UsersControllerTest: test_los_usuarios_puede_editar_su_perfil
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuarios/590306657/editar" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by UsersController#page_update as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 682)
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/page_update.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2599)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 4552)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 1.0ms | Allocations: 5389)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_Los_usuarios_pueden_acceder_a_la_sección_de_favoritos
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuario/590306657/favoritos" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by UsersController#favoritos as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/favoritos.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 458)
  Rendered users/favoritos.html.erb within layouts/application (Duration: 1.3ms | Allocations: 941)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 2766)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.4ms | Allocations: 3235)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started PATCH "/usuarios/590306657" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Nuevo Nombre"}, "id"=>"590306657"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "name" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:42:11.445659"], ["name", "Nuevo Nombre"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 805)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Comprobar_que_metodo_show_funcione_correctamente
--------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/user/590306657" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mRoom Create (0.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "private_323332591_590306657"], ["is_private", true], ["created_at", "2023-11-22 00:42:11.454725"], ["updated_at", "2023-11-22 00:42:11.454725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190963], ["created_at", "2023-11-22 00:42:11.457175"], ["updated_at", "2023-11-22 00:42:11.457175"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 323332591], ["room_id", 980190963], ["created_at", "2023-11-22 00:42:11.458800"], ["updated_at", "2023-11-22 00:42:11.458800"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 323332591]]
  Rendered collection of users/_user.html.erb [5 times] (Duration: 0.3ms | Allocations: 302)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190963]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.4ms | Allocations: 444)
  Rendered rooms/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1878)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 3705)
Completed 200 OK in 10ms (Views: 3.2ms | ActiveRecord: 2.2ms | Allocations: 7368)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_Un_usuario_no_registrado_puede_utilizar_la_página_de_visita
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuario/1028376774" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by UsersController#cuenta_visita as HTML
  Parameters: {"id"=>"1028376774"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/cuenta_visita.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 456)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1028376774], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/cuenta_visita.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1777)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 3597)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms | Allocations: 4001)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.2ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.4ms | Allocations: 5186)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_no_se_puede_calificar_a_un_usuario_si_no_se_ha_inciado_sesión
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started POST "/usuario/590306657" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by UsersController#calificar_usuario as HTML
  Parameters: {"calificacion"=>"5", "id"=>"590306657"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "calificacion" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:42:11.496986"], ["calificacion", 5], ["id", 590306657]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.7ms | Allocations: 1081)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ApplicationHelperTest: test_Se_retornan_estrellas_correctas_para_calificación_positiva
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
ApplicationHelperTest: test_Se_retorna_'Sin_estrellas'_para_calificación_no_positiva
------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
PaginaPrincipalControllerTest: test_Se_debe_acceder_a_la_página_principal_sin_problemas
---------------------------------------------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-11-21 21:42:11 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.3ms | Allocations: 331)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 617)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 2642)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 3378)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-11-22 00:43:04.288061', '2023-11-22 00:43:04.288061', NULL, 1, 2), (880660507, 882865120, '2023-11-22 00:43:04.288061', '2023-11-22 00:43:04.288061', 'Pendiente', 2, 3), (58384526, 503109352, '2023-11-22 00:43:04.288061', '2023-11-22 00:43:04.288061', 'Pendiente', 3, 1), (488535345, 60310349, '2023-11-22 00:43:04.288061', '2023-11-22 00:43:04.288061', 'Pendiente', 1, 2), (279003002, 60310349, '2023-11-22 00:43:04.288061', '2023-11-22 00:43:04.288061', 'Pendiente', 1, 2);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-11-22 00:43:04.291673', '2023-11-22 00:43:04.291673'), (298486374, 608344442, 298486374, 'MyText', '2023-11-22 00:43:04.291673', '2023-11-22 00:43:04.291673');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-11-22 00:43:04.294565', '2023-11-22 00:43:04.294565'), (298486374, 975572189, 298486374, '2023-11-22 00:43:04.294565', '2023-11-22 00:43:04.294565');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-11-22 00:43:04.295857', '2023-11-22 00:43:04.295857'), (298486374, 'MyString', '2023-11-22 00:43:04.295857', '2023-11-22 00:43:04.295857');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion", "visitas") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-11-22 00:43:04.297101', '2023-11-22 00:43:04.297101', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (721151615, NULL, 'accesorio', DEFAULT, '2023-11-22 00:43:04.297101', '2023-11-22 00:43:04.297101', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba', DEFAULT), (503109352, 'Nombre3', NULL, DEFAULT, '2023-11-22 00:43:04.297101', '2023-11-22 00:43:04.297101', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba', DEFAULT), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-11-22 00:43:04.297101', '2023-11-22 00:43:04.297101', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-11-22 00:43:04.297101', '2023-11-22 00:43:04.297101', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (764813928, 'Nombre6', 'accesorio', DEFAULT, '2023-11-22 00:43:04.297101', '2023-11-22 00:43:04.297101', DEFAULT, DEFAULT, 608344442, 'Descripcion de prueba', DEFAULT), (445715185, 'hoodie', 'Poleron', DEFAULT, '2023-11-22 00:43:04.297101', '2023-11-22 00:43:04.297101', DEFAULT, DEFAULT, 590306657, 'hoodie negro', DEFAULT), (389637042, 'fav', 'Polera', DEFAULT, '2023-11-22 00:43:04.297101', '2023-11-22 00:43:04.297101', DEFAULT, DEFAULT, 590306657, 'polera fav', DEFAULT);
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 975572189, '2023-11-22 00:43:04.298075', '2023-11-22 00:43:04.298075', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-11-22 00:43:04.298075', '2023-11-22 00:43:04.298075', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word'), (507351460, 871544775, 975572189, '2023-11-22 00:43:04.298075', '2023-11-22 00:43:04.298075', DEFAULT, 'Reporte de prueba'), (5833737, 871544775, 975572189, '2023-11-22 00:43:04.298075', '2023-11-22 00:43:04.298075', DEFAULT, 'nada de nada'), (928920724, 882865120, 590306657, '2023-11-22 00:43:04.298075', '2023-11-22 00:43:04.298075', DEFAULT, 'Primer reporte del producto'), (777479468, 764813928, 590306657, '2023-11-22 00:43:04.298075', '2023-11-22 00:43:04.298075', DEFAULT, 'A');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-11-22 00:43:04.299705', '2023-11-22 00:43:04.299705'), (298486374, 'MyString', FALSE, '2023-11-22 00:43:04.299705', '2023-11-22 00:43:04.299705');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin", "productos_fav", "calificacion") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:04.300457', '2023-11-22 00:43:04.300457', 'usuario1', DEFAULT, DEFAULT, DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:04.300457', '2023-11-22 00:43:04.300457', 'usuario2', DEFAULT, DEFAULT, DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:04.300457', '2023-11-22 00:43:04.300457', 'usuario3', DEFAULT, DEFAULT, DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:04.300457', '2023-11-22 00:43:04.300457', 'usuario4', DEFAULT, DEFAULT, DEFAULT), (608344442, 'elvistek@uc.cl', 'elvis420', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:04.300457', '2023-11-22 00:43:04.300457', 'usuario5', DEFAULT, DEFAULT, DEFAULT), (1028376774, 'elpepe@uc.cl', 'pepe123', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:04.300457', '2023-11-22 00:43:04.300457', 'pepebotella', DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
RoomsControllerTest: test_solo_deben_haber_dos_usuarios_en_la_sala_de_chat
--------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mParticipant Create (0.3ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["created_at", "2023-11-22 00:43:04.388320"], ["updated_at", "2023-11-22 00:43:04.388320"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mParticipant Create (0.1ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 975572189], ["room_id", 980190962], ["created_at", "2023-11-22 00:43:04.389862"], ["updated_at", "2023-11-22 00:43:04.389862"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/rooms/980190962" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 975572189], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 975572189]]
  Rendered collection of users/_user.html.erb [5 times] (Duration: 0.5ms | Allocations: 525)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 1.1ms | Allocations: 712)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.5ms | Allocations: 1572)
  Rendered rooms/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 8794)
  Rendered layout layouts/application.html.erb (Duration: 41.5ms | Allocations: 50011)
Completed 200 OK in 57ms (Views: 44.2ms | ActiveRecord: 1.5ms | Allocations: 58257)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
ReportesControllerTest: test_es_posible_eliminar_un_reporte
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reporte/808710283/eliminar" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ReportesController#destroy as HTML
  Parameters: {"id"=>"808710283"}
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReportesControllerTest: test_eliminar_producto_si_tiene_3_o_más_reportes
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"5", "descripcion"=>"[REDACTED]"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 6ms (ActiveRecord: 1.8ms | Allocations: 3043)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 1.2ms | Allocations: 1063)
  [1m[36mReporte Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2012)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 3981)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.5ms | Allocations: 4833)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_cree_y_rediriga_correctamente
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reportes/764813928/new?reporte[producto_id]=764813928&reporte[user_id]=1&reporte[descripcion]=Un+nuevo+reporte" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ReportesController#new as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 457)
  Rendered reportes/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2639)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms | Allocations: 2935)
Started POST "/reportes/764813928" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Create (0.2ms)[0m  [1m[32mINSERT INTO "reportes" ("producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 764813928], ["user_id", 590306657], ["created_at", "2023-11-22 00:43:04.547745"], ["updated_at", "2023-11-22 00:43:04.547745"], ["nuevo_atributo", nil], ["descripcion", "Un nuevo reporte"]]
  [1m[36mReporte Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/764813928
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 1998)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
ApplicationHelperTest: test_Se_retorna_'Sin_estrellas'_para_calificación_no_positiva
------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ApplicationHelperTest: test_Se_retornan_estrellas_correctas_para_calificación_positiva
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 721151615], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 503109352], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UsersControllerTest: test_los_usuarios_puede_editar_su_perfil
-------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuarios/590306657/editar" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by UsersController#page_update as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 686)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/page_update.html.erb within layouts/application (Duration: 3.4ms | Allocations: 3109)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 5062)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms | Allocations: 6190)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.1ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 5406)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Comprobar_que_metodo_show_funcione_correctamente
--------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/user/590306657" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mRoom Create (0.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "private_323332591_590306657"], ["is_private", true], ["created_at", "2023-11-22 00:43:04.590343"], ["updated_at", "2023-11-22 00:43:04.590343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190963], ["created_at", "2023-11-22 00:43:04.592539"], ["updated_at", "2023-11-22 00:43:04.592539"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.4ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 323332591], ["room_id", 980190963], ["created_at", "2023-11-22 00:43:04.594128"], ["updated_at", "2023-11-22 00:43:04.594128"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 323332591]]
  Rendered collection of users/_user.html.erb [5 times] (Duration: 0.3ms | Allocations: 303)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190963]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.4ms | Allocations: 448)
  Rendered rooms/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1915)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 3779)
Completed 200 OK in 11ms (Views: 3.2ms | ActiveRecord: 2.3ms | Allocations: 7734)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_no_se_puede_calificar_a_un_usuario_si_no_se_ha_inciado_sesión
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started POST "/usuario/590306657" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by UsersController#calificar_usuario as HTML
  Parameters: {"calificacion"=>"5", "id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "calificacion" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:43:04.606853"], ["calificacion", 5], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 1167)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_Los_usuarios_pueden_acceder_a_la_sección_de_favoritos
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuario/590306657/favoritos" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by UsersController#favoritos as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/favoritos.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 461)
  Rendered users/favoritos.html.erb within layouts/application (Duration: 1.2ms | Allocations: 937)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2830)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 3296)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_Al_calificar_un_usuario_se_redirige_correctamente
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started POST "/usuario/1028376774" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by UsersController#calificar_usuario as HTML
  Parameters: {"calificacion"=>"5", "id"=>"1028376774"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "calificacion" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:43:04.622917"], ["calificacion", 5], ["id", 1028376774]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 898)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started PATCH "/usuarios/590306657" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Nuevo Nombre"}, "id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "name" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:43:04.630003"], ["name", "Nuevo Nombre"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.4ms | Allocations: 762)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_Un_usuario_no_registrado_puede_utilizar_la_página_de_visita
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuario/1028376774" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by UsersController#cuenta_visita as HTML
  Parameters: {"id"=>"1028376774"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/cuenta_visita.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.9ms | Allocations: 456)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1028376774], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/cuenta_visita.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2731)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 4545)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms | Allocations: 4949)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
PaginaPrincipalControllerTest: test_Se_debe_acceder_a_la_página_principal_sin_problemas
---------------------------------------------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 402)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 687)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 2709)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 3445)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------
IntercambiosControllerTest: test_los_intercambios_se_deben_poder_eliminar
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
Started GET "/intercambios/762610083/eliminar" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by IntercambiosController#destroy as HTML
  Parameters: {"id"=>"762610083"}
  [1m[36mIntercambio Load (0.4ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 1953)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
IntercambiosControllerTest: test_método_create_debe_funcionar
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/intercambios/871544775/create" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by IntercambiosController#create as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mIntercambio Create (0.2ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-22 00:43:04.661595"], ["updated_at", "2023-11-22 00:43:04.661595"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Create (0.1ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-22 00:43:04.661595"], ["updated_at", "2023-11-22 00:43:04.661595"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 4ms (ActiveRecord: 1.1ms | Allocations: 2276)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
IntercambiosControllerTest: test_la_página_de_edición_de_intercambios_debe_funcionar
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/intercambios/488535345/editar" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by IntercambiosController#page_update as HTML
  Parameters: {"id"=>"488535345"}
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering intercambios/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 681)
  Rendered intercambios/page_update.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1143)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 3091)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms | Allocations: 3912)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
IntercambiosControllerTest: test_debería_ejecutar_el_método_index
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
Started GET "/intercambios" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by IntercambiosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 459)
  [1m[36mIntercambio Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1188)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 3012)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.5ms | Allocations: 3327)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
IntercambiosControllerTest: test_no_hay_intercambios_duplicados
---------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------
IntercambiosControllerTest: test_los_intercambios_se_pueden_llevar_a_cabo
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/intercambios/488535345" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by IntercambiosController#update as HTML
  Parameters: {"intercambio"=>{"estado"=>"Aceptado"}, "id"=>"488535345"}
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Update (0.1ms)[0m  [1m[33mUPDATE "intercambios" SET "updated_at" = $1, "estado" = $2 WHERE "intercambios"."id" = $3[0m  [["updated_at", "2023-11-22 00:43:04.689059"], ["estado", "Aceptado"], ["id", 488535345]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios?id=488535345
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 947)
Started GET "/intercambios?id=488535345" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by IntercambiosController#index as HTML
  Parameters: {"id"=>"488535345"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 459)
  [1m[36mIntercambio Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 778)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2601)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.8ms | Allocations: 3289)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
PinsControllerTest: test_Método_create_funciona
-----------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.1ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-11-22 00:43:04.702645"], ["updated_at", "2023-11-22 00:43:04.702645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 1296)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
PinsControllerTest: test_Funciona_método_update
-----------------------------------------------
  [1m[36mPin Load (0.3ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 711)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
PinsControllerTest: test_Debería_mostrar_index
----------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 1.6ms | Allocations: 1517)
  Rendered pins/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1852)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 4015)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms | Allocations: 4719)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PinsControllerTest: test_Método_edit_funciona
---------------------------------------------
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 0.6ms | Allocations: 826)
  Rendered pins/edit.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1122)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 3084)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 3528)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
PinsControllerTest: test_Método_destroy_destuye_pin
---------------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1560)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
ProductosControllerTest: test_Los_productos_no_se_actulizan_si_se_llenan_mal_los_campos
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started PATCH "/productos/871544775" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ProductosController#update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "parametro_desconocido"=>"true"}, "id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
[31mUnpermitted parameter: :parametro_desconocido. Context: { controller: ProductosController, action: update, request: #<ActionDispatch::Request:0x00007f632c17ab10>, params: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "parametro_desconocido"=>"true"}, "controller"=>"productos", "action"=>"update", "id"=>"871544775"} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 624)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1689)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 3634)
Completed 422 Unprocessable Entity in 5ms (Views: 3.0ms | ActiveRecord: 0.5ms | Allocations: 5817)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_redirige_correctamente_al_eliminar_el_producto_de_favoritos
----------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/usuario/871544775/eliminar_favorito" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ProductosController#eliminar_favorito as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
Redirected to http://www.example.com/usuario/871544775/favoritos
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 644)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_productos_se_actualizan_correctamente_en_la_página
----------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/764813928/editar?producto[nombre]=NewName&producto[descripcion]=Nueva+descripci%C3%B3n%21&producto[categoria]=accesorio&producto[disponible]=false" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ProductosController#page_update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "disponible"=>"false"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering productos/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 468)
  Rendered productos/page_update.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1092)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2906)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms | Allocations: 3316)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ProductosControllerTest: test_Los_productos_son_destruidos_y_luego_se_redirige_correctamente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/764813928/eliminar" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ProductosController#destroy as HTML
  Parameters: {"id"=>"764813928"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 777479468]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.2ms | Allocations: 1770)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_metodo_index_funciona_correctamente
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 459)
  [1m[36mProducto Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "productos"[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  Rendered productos/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1565)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 3388)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 3661)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductosControllerTest: test_Los_productos_son_únicos
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 445715185], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/productos" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ProductosController#create as HTML
  Parameters: {"producto"=>{"nombre"=>"Nombre1", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"false"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
[31mUnpermitted parameter: :disponible. Context: { controller: ProductosController, action: create, request: #<ActionDispatch::Request:0x00007f62dff9c650>, params: {"producto"=>{"nombre"=>"Nombre1", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"false"}, "controller"=>"productos", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 415)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 925)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 2739)
Completed 422 Unprocessable Entity in 5ms (Views: 3.0ms | ActiveRecord: 1.1ms | Allocations: 3940)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_puede_crear_un_producto_y_que_luego_se_rediriga_adecuadamente
------------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos/new?producto[nombre]=Nombre5&producto[descripcion]=Descripcion+de+prueba&producto[categoria]=accesorio&producto[disponible]=true" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ProductosController#new as HTML
  Parameters: {"producto"=>{"nombre"=>"Nombre5", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"true"}}
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 457)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 715)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2550)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms | Allocations: 2778)
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_pueda_agregar_el_producto_a_la_lista_de_fav
------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/871544775/favorito" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ProductosController#favoritos as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "productos_fav" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:43:04.848510"], ["productos_fav", "{\"871544775\":[{\"id\":871544775,\"nombre\":\"Nombre1\",\"categoria\":\"accesorio\",\"disponible\":null,\"created_at\":\"2023-11-22T00:43:04.297Z\",\"updated_at\":\"2023-11-22T00:43:04.297Z\",\"estado\":null,\"intercambiado\":null,\"user_id\":590306657,\"descripcion\":\"Descripcion de prueba\",\"visitas\":0}]}"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/usuario/871544775/favoritos
Completed 302 Found in 3ms (ActiveRecord: 0.9ms | Allocations: 1438)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
ProductosControllerTest: test_debería_mostrar_el_producto_correctamente_en_el_método_show
-----------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/871544775" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 457)
  Rendered productos/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1375)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 3199)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.6ms | Allocations: 4502)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
AdminsControllerTest: test_usuarios_normales_no_tienen_acceso_a_permisos_del_administrador
------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/admin" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by AdminsController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :admin_only rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 285)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
MessagesControllerTest: test_debe_crear_mensajes_en_la_sala_de_chat
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 AND "rooms"."id" != $2 LIMIT $3[0m  [["name", "MyString"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started POST "/rooms/980190962/messages" for 127.0.0.1 at 2023-11-21 21:43:04 -0300
Processing by MessagesController#create as HTML
  Parameters: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "room_id"=>"980190962"}
[31mUnpermitted parameter: :room_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007f632ef66a60>, params: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "controller"=>"messages", "action"=>"create", "room_id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["body", "Hola Mundo"], ["created_at", "2023-11-22 00:43:04.880043"], ["updated_at", "2023-11-22 00:43:04.880043"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered messages/_message.html.erb (Duration: 0.4ms | Allocations: 240)
[ActionCable] Broadcasting to Z2lkOi8vcHJveWVjdG8tZ3J1cG8zNy9Sb29tLzk4MDE5MDk2Mg: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-590306657\">\n    <div class=\"message-box msg-590306657 \" >\n            <h6 class=\"name\"> usuario1 </h6>\n        Hola Mundo\n    </div>\n</div></template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.8ms | Allocations: 4718)
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "productos" DISABLE TRIGGER ALL;ALTER TABLE "reportes" DISABLE TRIGGER ALL;ALTER TABLE "intercambios" DISABLE TRIGGER ALL;ALTER TABLE "messages" DISABLE TRIGGER ALL;ALTER TABLE "rooms" DISABLE TRIGGER ALL;ALTER TABLE "participants" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "pins" DISABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "action_text_rich_texts";
DELETE FROM "intercambios";
DELETE FROM "messages";
DELETE FROM "participants";
DELETE FROM "pins";
DELETE FROM "productos";
DELETE FROM "reportes";
DELETE FROM "rooms";
DELETE FROM "users";
INSERT INTO "intercambios" ("id", "producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES (762610083, 871544775, '2023-11-22 00:43:47.521457', '2023-11-22 00:43:47.521457', NULL, 1, 2), (880660507, 882865120, '2023-11-22 00:43:47.521457', '2023-11-22 00:43:47.521457', 'Pendiente', 2, 3), (58384526, 503109352, '2023-11-22 00:43:47.521457', '2023-11-22 00:43:47.521457', 'Pendiente', 3, 1), (488535345, 60310349, '2023-11-22 00:43:47.521457', '2023-11-22 00:43:47.521457', 'Pendiente', 1, 2), (279003002, 60310349, '2023-11-22 00:43:47.521457', '2023-11-22 00:43:47.521457', 'Pendiente', 1, 2);
INSERT INTO "messages" ("id", "user_id", "room_id", "body", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, 'MyText', '2023-11-22 00:43:47.525238', '2023-11-22 00:43:47.525238'), (298486374, 608344442, 298486374, 'MyText', '2023-11-22 00:43:47.525238', '2023-11-22 00:43:47.525238');
INSERT INTO "participants" ("id", "user_id", "room_id", "created_at", "updated_at") VALUES (980190962, 590306657, 980190962, '2023-11-22 00:43:47.528008', '2023-11-22 00:43:47.528008'), (298486374, 975572189, 298486374, '2023-11-22 00:43:47.528008', '2023-11-22 00:43:47.528008');
INSERT INTO "pins" ("id", "title", "created_at", "updated_at") VALUES (980190962, 'MyString', '2023-11-22 00:43:47.529453', '2023-11-22 00:43:47.529453'), (298486374, 'MyString', '2023-11-22 00:43:47.529453', '2023-11-22 00:43:47.529453');
INSERT INTO "productos" ("id", "nombre", "categoria", "disponible", "created_at", "updated_at", "estado", "intercambiado", "user_id", "descripcion", "visitas") VALUES (871544775, 'Nombre1', 'accesorio', DEFAULT, '2023-11-22 00:43:47.530688', '2023-11-22 00:43:47.530688', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (721151615, NULL, 'accesorio', DEFAULT, '2023-11-22 00:43:47.530688', '2023-11-22 00:43:47.530688', DEFAULT, DEFAULT, 220281934, 'Descripcion de prueba', DEFAULT), (503109352, 'Nombre3', NULL, DEFAULT, '2023-11-22 00:43:47.530688', '2023-11-22 00:43:47.530688', DEFAULT, DEFAULT, 590306657, 'descripcion de prueba', DEFAULT), (60310349, 'Nombre1', 'accesorio', DEFAULT, '2023-11-22 00:43:47.530688', '2023-11-22 00:43:47.530688', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (882865120, 'Nombre5', 'accesorio', DEFAULT, '2023-11-22 00:43:47.530688', '2023-11-22 00:43:47.530688', DEFAULT, DEFAULT, 590306657, 'Descripcion de prueba', DEFAULT), (764813928, 'Nombre6', 'accesorio', DEFAULT, '2023-11-22 00:43:47.530688', '2023-11-22 00:43:47.530688', DEFAULT, DEFAULT, 608344442, 'Descripcion de prueba', DEFAULT), (445715185, 'hoodie', 'Poleron', DEFAULT, '2023-11-22 00:43:47.530688', '2023-11-22 00:43:47.530688', DEFAULT, DEFAULT, 590306657, 'hoodie negro', DEFAULT), (389637042, 'fav', 'Polera', DEFAULT, '2023-11-22 00:43:47.530688', '2023-11-22 00:43:47.530688', DEFAULT, DEFAULT, 590306657, 'polera fav', DEFAULT);
INSERT INTO "reportes" ("id", "producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES (808710283, 871544775, 975572189, '2023-11-22 00:43:47.531671', '2023-11-22 00:43:47.531671', DEFAULT, 'Reporte de prueba'), (691708211, 882865120, 975572189, '2023-11-22 00:43:47.531671', '2023-11-22 00:43:47.531671', DEFAULT, 'word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word word'), (507351460, 871544775, 975572189, '2023-11-22 00:43:47.531671', '2023-11-22 00:43:47.531671', DEFAULT, 'Reporte de prueba'), (5833737, 871544775, 975572189, '2023-11-22 00:43:47.531671', '2023-11-22 00:43:47.531671', DEFAULT, 'nada de nada'), (928920724, 882865120, 590306657, '2023-11-22 00:43:47.531671', '2023-11-22 00:43:47.531671', DEFAULT, 'Primer reporte del producto'), (777479468, 764813928, 590306657, '2023-11-22 00:43:47.531671', '2023-11-22 00:43:47.531671', DEFAULT, 'A');
INSERT INTO "rooms" ("id", "name", "is_private", "created_at", "updated_at") VALUES (980190962, 'MyString', FALSE, '2023-11-22 00:43:47.533209', '2023-11-22 00:43:47.533209'), (298486374, 'MyString', FALSE, '2023-11-22 00:43:47.533209', '2023-11-22 00:43:47.533209');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name", "admin", "productos_fav", "calificacion") VALUES (590306657, 'hola@uc.cl', 'holamundo', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:47.533987', '2023-11-22 00:43:47.533987', 'usuario1', DEFAULT, DEFAULT, DEFAULT), (975572189, 'pepenavajas@uc.cl', 'elpepe', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:47.533987', '2023-11-22 00:43:47.533987', 'usuario2', DEFAULT, DEFAULT, DEFAULT), (220281934, 'eladiocarrion@uc.cl', 'eladio123', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:47.533987', '2023-11-22 00:43:47.533987', 'usuario3', DEFAULT, DEFAULT, DEFAULT), (323332591, 'alexis.vega@uc.cl', '123456', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:47.533987', '2023-11-22 00:43:47.533987', 'usuario4', DEFAULT, DEFAULT, DEFAULT), (608344442, 'elvistek@uc.cl', 'elvis420', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:47.533987', '2023-11-22 00:43:47.533987', 'usuario5', DEFAULT, DEFAULT, DEFAULT), (1028376774, 'elpepe@uc.cl', 'pepe123', DEFAULT, DEFAULT, DEFAULT, '2023-11-22 00:43:47.533987', '2023-11-22 00:43:47.533987', 'pepebotella', DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "productos" ENABLE TRIGGER ALL;ALTER TABLE "reportes" ENABLE TRIGGER ALL;ALTER TABLE "intercambios" ENABLE TRIGGER ALL;ALTER TABLE "messages" ENABLE TRIGGER ALL;ALTER TABLE "rooms" ENABLE TRIGGER ALL;ALTER TABLE "participants" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "pins" ENABLE TRIGGER ALL;ALTER TABLE "action_text_rich_texts" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------
IntercambiosControllerTest: test_los_intercambios_se_pueden_llevar_a_cabo
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/intercambios/488535345" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by IntercambiosController#update as HTML
  Parameters: {"intercambio"=>{"estado"=>"Aceptado"}, "id"=>"488535345"}
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Update (0.2ms)[0m  [1m[33mUPDATE "intercambios" SET "updated_at" = $1, "estado" = $2 WHERE "intercambios"."id" = $3[0m  [["updated_at", "2023-11-22 00:43:47.636101"], ["estado", "Aceptado"], ["id", 488535345]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios?id=488535345
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 4142)
Started GET "/intercambios?id=488535345" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by IntercambiosController#index as HTML
  Parameters: {"id"=>"488535345"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 11.8ms | Allocations: 3575)
  [1m[36mIntercambio Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 13.5ms | Allocations: 4790)
  Rendered layout layouts/application.html.erb (Duration: 45.0ms | Allocations: 45918)
Completed 200 OK in 50ms (Views: 45.1ms | ActiveRecord: 1.6ms | Allocations: 50384)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
IntercambiosControllerTest: test_la_página_de_edición_de_intercambios_debe_funcionar
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/intercambios/488535345/editar" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by IntercambiosController#page_update as HTML
  Parameters: {"id"=>"488535345"}
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering intercambios/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 470)
  Rendered intercambios/page_update.html.erb within layouts/application (Duration: 1.3ms | Allocations: 934)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2749)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 3210)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------
IntercambiosControllerTest: test_los_intercambios_se_deben_poder_eliminar
-------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
Started GET "/intercambios/762610083/eliminar" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by IntercambiosController#destroy as HTML
  Parameters: {"id"=>"762610083"}
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms | Allocations: 2218)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
IntercambiosControllerTest: test_no_hay_intercambios_duplicados
---------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 60310349], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
IntercambiosControllerTest: test_debería_ejecutar_el_método_index
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
Started GET "/intercambios" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by IntercambiosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering intercambios/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 468)
  [1m[36mIntercambio Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "intercambios"[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios"[0m
  Rendered intercambios/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 804)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2697)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.5ms | Allocations: 2965)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
IntercambiosControllerTest: test_método_create_debe_funcionar
-------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 488535345], ["LIMIT", 1]]
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 279003002], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/intercambios/871544775/create" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by IntercambiosController#create as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mIntercambio Create (0.4ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-22 00:43:47.730902"], ["updated_at", "2023-11-22 00:43:47.730902"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Create (0.2ms)[0m  [1m[32mINSERT INTO "intercambios" ("producto_id", "created_at", "updated_at", "estado", "id_propietario", "id_cliente") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 871544775], ["created_at", "2023-11-22 00:43:47.730902"], ["updated_at", "2023-11-22 00:43:47.730902"], ["estado", "Pendiente"], ["id_propietario", 590306657], ["id_cliente", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/intercambios
Completed 302 Found in 6ms (ActiveRecord: 2.1ms | Allocations: 2712)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
PaginaPrincipalControllerTest: test_Se_debe_acceder_a_la_página_principal_sin_problemas
---------------------------------------------------------------------------------------
Started GET "/pagina_principal/index" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by PaginaPrincipalController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pagina_principal/index.html.erb within layouts/application
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 407)
  Rendered pagina_principal/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 694)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 2716)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms | Allocations: 3492)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
RoomsControllerTest: test_solo_deben_haber_dos_usuarios_en_la_sala_de_chat
--------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["created_at", "2023-11-22 00:43:47.750358"], ["updated_at", "2023-11-22 00:43:47.750358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mParticipant Create (0.1ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 975572189], ["room_id", 980190962], ["created_at", "2023-11-22 00:43:47.751626"], ["updated_at", "2023-11-22 00:43:47.751626"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/rooms/980190962" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by RoomsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 975572189], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 975572189]]
  Rendered collection of users/_user.html.erb [5 times] (Duration: 0.6ms | Allocations: 518)
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 1.1ms | Allocations: 710)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.6ms | Allocations: 1478)
  Rendered rooms/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 5809)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 7759)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.7ms | Allocations: 11632)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Comprobar_que_metodo_show_funcione_correctamente
--------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/user/590306657" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = $1 ORDER BY "rooms"."id" ASC LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 LIMIT $2[0m  [["name", "private_323332591_590306657"], ["LIMIT", 1]]
  [1m[36mRoom Create (0.2ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "private_323332591_590306657"], ["is_private", true], ["created_at", "2023-11-22 00:43:47.775533"], ["updated_at", "2023-11-22 00:43:47.775533"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190963], ["created_at", "2023-11-22 00:43:47.777838"], ["updated_at", "2023-11-22 00:43:47.777838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mParticipant Create (0.2ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 323332591], ["room_id", 980190963], ["created_at", "2023-11-22 00:43:47.779456"], ["updated_at", "2023-11-22 00:43:47.779456"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1[0m  [["id", 323332591]]
  Rendered collection of users/_user.html.erb [5 times] (Duration: 0.3ms | Allocations: 308)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["room_id", 980190963]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 21)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.4ms | Allocations: 474)
  Rendered rooms/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 2186)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 4125)
Completed 200 OK in 11ms (Views: 3.6ms | ActiveRecord: 2.1ms | Allocations: 8809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_Un_usuario_no_registrado_puede_utilizar_la_página_de_visita
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuario/1028376774" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by UsersController#cuenta_visita as HTML
  Parameters: {"id"=>"1028376774"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/cuenta_visita.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 459)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1028376774], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/cuenta_visita.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1810)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 3624)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms | Allocations: 4069)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UsersControllerTest: test_los_usuarios_puede_editar_su_perfil
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuarios/590306657/editar" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by UsersController#page_update as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 461)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered users/page_update.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2815)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 4695)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms | Allocations: 5117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_Los_usuarios_pueden_acceder_a_la_sección_de_favoritos
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/usuario/590306657/favoritos" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by UsersController#favoritos as HTML
  Parameters: {"id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/favoritos.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 458)
  Rendered users/favoritos.html.erb within layouts/application (Duration: 1.1ms | Allocations: 942)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 2767)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 3236)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UsersControllerTest: test_redirecciona_a_la_pagina_de_inicio_al_actualizar_un_usuario
-------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started PATCH "/usuarios/590306657" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Nuevo Nombre"}, "id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "name" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:43:47.818810"], ["name", "Nuevo Nombre"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 851)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_Al_calificar_un_usuario_se_redirige_correctamente
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started POST "/usuario/1028376774" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by UsersController#calificar_usuario as HTML
  Parameters: {"calificacion"=>"5", "id"=>"1028376774"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "calificacion" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:43:47.826763"], ["calificacion", 5], ["id", 1028376774]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1147)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_no_se_puede_calificar_a_un_usuario_si_no_se_ha_inciado_sesión
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started POST "/usuario/590306657" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by UsersController#calificar_usuario as HTML
  Parameters: {"calificacion"=>"5", "id"=>"590306657"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "calificacion" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:43:47.836292"], ["calificacion", 5], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 1081)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
UsersControllerTest: test_debe_eliminar_correctamente_a_un_usuario_y_solo_un_usuario
------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/usuarios/323332591/eliminar" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"323332591"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323332591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mIntercambio Load (0.2ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" INNER JOIN "productos" ON "intercambios"."producto_id" = "productos"."id" WHERE "productos"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mParticipant Load (0.1ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = $1[0m  [["user_id", 323332591]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 323332591], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 323332591]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.1ms | Allocations: 5395)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
AdminsControllerTest: test_usuarios_normales_no_tienen_acceso_a_permisos_del_administrador
------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1028376774], ["LIMIT", 1]]
Started GET "/admin" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by AdminsController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :admin_only rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 285)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ApplicationHelperTest: test_Se_retornan_estrellas_correctas_para_calificación_positiva
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
ApplicationHelperTest: test_Se_retorna_'Sin_estrellas'_para_calificación_no_positiva
------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_pertenece_a_un_producto
------------------------------------------------------------
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."id" = $1 LIMIT $2[0m  [["id", 762610083], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntercambioTest: test_un_intercambio_debe_poseer_un_producto
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ProductosControllerTest: test_Los_productos_son_destruidos_y_luego_se_redirige_correctamente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/764813928/eliminar" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by ProductosController#destroy as HTML
  Parameters: {"id"=>"764813928"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mReporte Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 777479468]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.3ms | Allocations: 5006)
  [1m[36mProducto Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_pueda_agregar_el_producto_a_la_lista_de_fav
------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/871544775/favorito" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by ProductosController#favoritos as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "productos_fav" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-11-22 00:43:47.887331"], ["productos_fav", "{\"871544775\":[{\"id\":871544775,\"nombre\":\"Nombre1\",\"categoria\":\"accesorio\",\"disponible\":null,\"created_at\":\"2023-11-22T00:43:47.530Z\",\"updated_at\":\"2023-11-22T00:43:47.530Z\",\"estado\":null,\"intercambiado\":null,\"user_id\":590306657,\"descripcion\":\"Descripcion de prueba\",\"visitas\":0}]}"], ["id", 590306657]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/usuario/871544775/favoritos
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1455)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_redirige_correctamente_al_eliminar_el_producto_de_favoritos
----------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/usuario/871544775/eliminar_favorito" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by ProductosController#eliminar_favorito as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
Redirected to http://www.example.com/usuario/871544775/favoritos
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 573)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_metodo_index_funciona_correctamente
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.7ms | Allocations: 678)
  [1m[36mProducto Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "productos"[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  Rendered productos/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1822)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 3802)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.4ms | Allocations: 4499)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.3ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ProductosControllerTest: test_Los_productos_son_únicos
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 445715185], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/productos" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by ProductosController#create as HTML
  Parameters: {"producto"=>{"nombre"=>"Nombre1", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"false"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
[31mUnpermitted parameter: :disponible. Context: { controller: ProductosController, action: create, request: #<ActionDispatch::Request:0x00007f6e1dafab80>, params: {"producto"=>{"nombre"=>"Nombre1", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"false"}, "controller"=>"productos", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 415)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1577)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 3465)
Completed 422 Unprocessable Entity in 5ms (Views: 2.8ms | ActiveRecord: 1.1ms | Allocations: 4796)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_productos_se_actualizan_correctamente_en_la_página
----------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/764813928/editar?producto[nombre]=NewName&producto[descripcion]=Nueva+descripci%C3%B3n%21&producto[categoria]=accesorio&producto[disponible]=false" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by ProductosController#page_update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "disponible"=>"false"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering productos/page_update.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 471)
  Rendered productos/page_update.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1139)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2954)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 3404)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
ProductosControllerTest: test_Los_productos_no_se_actulizan_si_se_llenan_mal_los_campos
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started PATCH "/productos/871544775" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by ProductosController#update as HTML
  Parameters: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "parametro_desconocido"=>"true"}, "id"=>"871544775"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
[31mUnpermitted parameter: :parametro_desconocido. Context: { controller: ProductosController, action: update, request: #<ActionDispatch::Request:0x00007f6e1da29ff8>, params: {"producto"=>{"nombre"=>"NewName", "descripcion"=>"Nueva descripción!", "categoria"=>"accesorio", "parametro_desconocido"=>"true"}, "controller"=>"productos", "action"=>"update", "id"=>"871544775"} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 413)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 995)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 2809)
Completed 422 Unprocessable Entity in 4ms (Views: 1.8ms | ActiveRecord: 0.6ms | Allocations: 4241)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
ProductosControllerTest: test_debería_mostrar_el_producto_correctamente_en_el_método_show
-----------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
Started GET "/productos/871544775" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 457)
  Rendered productos/show.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1373)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 3187)
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.7ms | Allocations: 4490)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
ProductosControllerTest: test_Verificar_que_se_puede_crear_un_producto_y_que_luego_se_rediriga_adecuadamente
------------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 445715185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started GET "/productos/new?producto[nombre]=Nombre5&producto[descripcion]=Descripcion+de+prueba&producto[categoria]=accesorio&producto[disponible]=true" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by ProductosController#new as HTML
  Parameters: {"producto"=>{"nombre"=>"Nombre5", "descripcion"=>"Descripcion de prueba", "categoria"=>"accesorio", "disponible"=>"true"}}
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 457)
  Rendered productos/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 715)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 2537)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 2767)
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."nombre" = $1 LIMIT $2[0m  [["nombre", "Nombre1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_nombre
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 721151615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220281934], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 721151615], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
ProductoTest: test_no_existen_productos_duplicados
--------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ProductoTest: test_No_deberia_guardar_producto_sin_categoria
------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 503109352], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 503109352], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
PinsControllerTest: test_Funciona_método_update
-----------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/pins/980190962" for 127.0.0.1 at 2023-11-21 21:43:47 -0300
Processing by PinsController#update as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}, "id"=>"980190962"}
  [1m[36mPin Load (0.2ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/pins/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1304)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
PinsControllerTest: test_Debería_mostrar_index
----------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/new" for 127.0.0.1 at 2023-11-21 21:43:48 -0300
Processing by PinsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering pins/new.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 1.1ms | Allocations: 1276)
  Rendered pins/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1595)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 3756)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms | Allocations: 4468)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
PinsControllerTest: test_Método_destroy_destuye_pin
---------------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started DELETE "/pins/980190962" for 127.0.0.1 at 2023-11-21 21:43:48 -0300
Processing by PinsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 980190962], ["record_type", "Pin"], ["name", "pictures"]]
  [1m[36mPin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "pins" WHERE "pins"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 1581)
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
PinsControllerTest: test_Método_create_funciona
-----------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
Started POST "/pins" for 127.0.0.1 at 2023-11-21 21:43:48 -0300
Processing by PinsController#create as HTML
  Parameters: {"pin"=>{"title"=>"MyString"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPin Create (0.1ms)[0m  [1m[32mINSERT INTO "pins" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "MyString"], ["created_at", "2023-11-22 00:43:48.015242"], ["updated_at", "2023-11-22 00:43:48.015242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/pins/980190963
Completed 302 Found in 1ms (ActiveRecord: 0.3ms | Allocations: 792)
  [1m[36mPin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pins"[0m
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" ORDER BY "pins"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PinsControllerTest: test_Método_edit_funciona
---------------------------------------------
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/pins/980190962/edit" for 127.0.0.1 at 2023-11-21 21:43:48 -0300
Processing by PinsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPin Load (0.1ms)[0m  [1m[34mSELECT "pins".* FROM "pins" WHERE "pins"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pins/edit.html.erb within layouts/application
  Rendered pins/_form.html.erb (Duration: 0.6ms | Allocations: 790)
  Rendered pins/edit.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1051)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 3012)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 3402)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ReporteTest: test_reporte_debe_tener_un_producto_asociado
---------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ReporteTest: test_reportes_son_asociados_al_usuario_denunciante
---------------------------------------------------------------
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ReporteTest: test_descripción_debe_tener_menos_de_200_caracteres
----------------------------------------------------------------
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 691708211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ReportesControllerTest: test_eliminar_producto_si_tiene_3_o_más_reportes
------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.3ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started POST "/reportes/871544775" for 127.0.0.1 at 2023-11-21 21:43:48 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"871544775", "user_id"=>"5", "descripcion"=>"[REDACTED]"}, "id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mIntercambio Load (0.1ms)[0m  [1m[34mSELECT "intercambios".* FROM "intercambios" WHERE "intercambios"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mIntercambio Destroy (0.1ms)[0m  [1m[31mDELETE FROM "intercambios" WHERE "intercambios"."id" = $1[0m  [["id", 762610083]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 507351460]]
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 5833737]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = $1[0m  [["id", 871544775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos
Completed 302 Found in 4ms (ActiveRecord: 1.1ms | Allocations: 2270)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
ReportesControllerTest: test_verificar_que_el_reporte_se_cree_y_rediriga_correctamente
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.6ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reportes/764813928/new?reporte[producto_id]=764813928&reporte[user_id]=1&reporte[descripcion]=Un+nuevo+reporte" for 127.0.0.1 at 2023-11-21 21:43:48 -0300
Processing by ReportesController#new as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  Rendering layout layouts/application.html.erb
  Rendering reportes/new.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.8ms | Allocations: 678)
  Rendered reportes/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1098)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 3070)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms | Allocations: 3780)
Started POST "/reportes/764813928" for 127.0.0.1 at 2023-11-21 21:43:48 -0300
Processing by ReportesController#create as HTML
  Parameters: {"reporte"=>{"producto_id"=>"764813928", "user_id"=>"1", "descripcion"=>"Un nuevo reporte"}, "id"=>"764813928"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Create (0.2ms)[0m  [1m[32mINSERT INTO "reportes" ("producto_id", "user_id", "created_at", "updated_at", "nuevo_atributo", "descripcion") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["producto_id", 764813928], ["user_id", 590306657], ["created_at", "2023-11-22 00:43:48.073567"], ["updated_at", "2023-11-22 00:43:48.073567"], ["nuevo_atributo", nil], ["descripcion", "Un nuevo reporte"]]
  [1m[36mReporte Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 764813928]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/productos/764813928
Completed 302 Found in 3ms (ActiveRecord: 1.0ms | Allocations: 1911)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
ReportesControllerTest: test_es_posible_eliminar_un_reporte
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.2ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reporte/808710283/eliminar" for 127.0.0.1 at 2023-11-21 21:43:48 -0300
Processing by ReportesController#destroy as HTML
  Parameters: {"id"=>"808710283"}
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReporte Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reportes" WHERE "reportes"."id" = $1[0m  [["id", 808710283]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms | Allocations: 531)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
ReportesControllerTest: test_debe_mostrar_los_reportes_asociados_al_producto_correspondiente
--------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 871544775], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 764813928], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 608344442], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 764813928], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 808710283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 507351460], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 5833737], ["LIMIT", 1]]
  [1m[36mCACHE Producto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 975572189], ["LIMIT", 1]]
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 882865120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 882865120], ["record_type", "Producto"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."id" = $1 LIMIT $2[0m  [["id", 928920724], ["LIMIT", 1]]
Started GET "/reportes/871544775" for 127.0.0.1 at 2023-11-21 21:43:48 -0300
Processing by ReportesController#show as HTML
  Parameters: {"id"=>"871544775"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = $1 LIMIT $2[0m  [["id", 871544775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering reportes/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 590306657], ["record_type", "User"], ["name", "image"], ["LIMIT", 1]]
  Rendered shared/_header.html.erb (Duration: 0.6ms | Allocations: 457)
  [1m[36mReporte Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reportes" WHERE "reportes"."producto_id" = $1 LIMIT $2[0m  [["producto_id", 871544775], ["LIMIT", 1]]
  [1m[36mReporte Load (0.1ms)[0m  [1m[34mSELECT "reportes".* FROM "reportes" WHERE "reportes"."producto_id" = $1[0m  [["producto_id", 871544775]]
  Rendered reportes/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1272)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 3090)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.4ms | Allocations: 3536)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
MessagesControllerTest: test_debe_crear_mensajes_en_la_sala_de_chat
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590306657], ["LIMIT", 1]]
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = $1 AND "rooms"."id" != $2 LIMIT $3[0m  [["name", "MyString"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mMessage Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started POST "/rooms/980190962/messages" for 127.0.0.1 at 2023-11-21 21:43:48 -0300
Processing by MessagesController#create as HTML
  Parameters: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "room_id"=>"980190962"}
[31mUnpermitted parameter: :room_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007f6e2c7f01d8>, params: {"message"=>{"body"=>"Hola Mundo", "room_id"=>"980190962"}, "controller"=>"messages", "action"=>"create", "room_id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590306657], ["room_id", 980190962], ["body", "Hola Mundo"], ["created_at", "2023-11-22 00:43:48.109010"], ["updated_at", "2023-11-22 00:43:48.109010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered messages/_message.html.erb (Duration: 0.4ms | Allocations: 240)
[ActionCable] Broadcasting to Z2lkOi8vcHJveWVjdG8tZ3J1cG8zNy9Sb29tLzk4MDE5MDk2Mg: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-590306657\">\n    <div class=\"message-box msg-590306657 \" >\n            <h6 class=\"name\"> usuario1 </h6>\n        Hola Mundo\n    </div>\n</div></template></turbo-stream>"
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms | Allocations: 4717)
  [1m[36mMessage Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
